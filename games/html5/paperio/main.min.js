var __reflect=this&&this.__reflect||function(t,e,a){t.__class__=e,a?a.push(e):a=[e],t.__types__=t.__types__?a.concat(t.__types__):a},__extends=this&&this.__extends||function(t,e){function a(){this.constructor=t}for(var p in e)e.hasOwnProperty(p)&&(t[p]=e[p]);t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)},Anchor=function(){function t(t){this.x=0,this.y=0,this.zIndex=0,this.rotation=0,this.scaleX=1,this.scaleY=1,t=t.split(","),this.x=parseFloat(t[0]),this.y=parseFloat(t[1]),t.length>2&&(this.zIndex=parseInt(t[2])),t.length>3&&(this.rotation=parseFloat(t[3])),t.length>4&&(this.scaleX=parseFloat(t[4])),t.length>5&&(this.scaleY=parseFloat(t[5]))}return t}();__reflect(Anchor.prototype,"Anchor");var FlaxSprite=function(t){function e(e,a){var p=t.call(this)||this;if(p.frameNames=null,p._autoPlayChildren=!1,p._frameDatas=null,p._theRect=null,p.namedChildren=null,p.__instanceId=null,p.onAnimationOver=null,p.onSequenceOver=null,p.onFrameChanged=null,p.onFrameLabel=null,p.autoDestroyWhenOver=!1,p.autoStopWhenOver=!1,p.autoHideWhenOver=!1,p.autoRecycle=!1,p.currentFrame=0,p.currentAnim=null,p.totalFrames=0,p.frameInterval=0,p.ignoreBodyRotation=!1,p.define=null,p.assetsFile=null,p.assetID=null,p.__pool__id__=null,p.clsName="FlaxSprite",p.playing=!1,p._prevFrame=-1,p._labelFrames=null,p._labelSounds=null,p._loopStart=0,p._loopEnd=0,p._isLanguageElement=!1,p.__isFlaxSprite=!0,p.__isInputMask=!1,p._fps=24,p._colliders=null,p._mainCollider=null,p._definedMainCollider=!1,p._anchorBindings=null,p._inited=!1,p._mouseEnabled=!0,p._baseAssetID=null,p._subAnims=null,p._animSequence=null,p._loopSequence=!1,p._sequenceIndex=0,p._fpsForAnims=null,p.__isMovieClip=!1,p._frameSounds=null,p.__isButton=!1,p._animTime=0,p._animReversed=!1,p._destroyed=!1,!e||!a)throw"Please set assetsFile and assetID to me!";return p.bitmap=new egret.Bitmap,p.addChild(p.bitmap),p.touchChildren=!1,p.touchEnabled=!0,p.setSource(e,a),p.pixelHitTest=!0,p.addEventListener(egret.Event.REMOVED_FROM_STAGE,p._onRomoveFromStage,p),p}return __extends(e,t),e.prototype._onRomoveFromStage=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this._onRomoveFromStage,this),this.removeEventListener(egret.Event.ENTER_FRAME,this.onFrame,this)},Object.defineProperty(e.prototype,"pixelHitTest",{set:function(t){this.bitmap&&(this.bitmap.pixelHitTest=t)},enumerable:!0,configurable:!0}),e.prototype.removeAllDefineChildren=function(){},e.prototype.setSource=function(t,e){if(this.removeAllDefineChildren(),null==t||null==e)throw"assetsFile and assetID can not be null!";if(this._anchorBindings=[],this._animSequence=[],this._fpsForAnims={},this._destroyed=!1,this.assetsFile!=t||this.assetID!=e&&this._baseAssetID!=e){this.assetsFile=t,this.currentAnim=null,this.assetID=this._handleSumAnims(e),this.define=this.getDefine();var a=this.define.anchorX,p=this.define.anchorY;isNaN(a)||isNaN(p)||this.setAnchorPoint(a,p),0==this.fps&&(this.fps=this.define.fps),this.onNewSource(),this.currentFrame=0,this._initFrameLabels(),this.renderFrame(this.currentFrame,!0),this._initColliders(),this.parent,null==this.__pool__id__&&(this.__pool__id__=this.assetID),this.currentAnim}},e.prototype.setAnchorPoint=function(t,e){},Object.defineProperty(e.prototype,"fps",{get:function(){return this._fps},set:function(t){this._fps=t},enumerable:!0,configurable:!0}),e.prototype._handleSumAnims=function(t){var e=t.split("$");this._baseAssetID=e[0],this._subAnims=XFlash.assetsManager.getSubAnims(this.assetsFile,this._baseAssetID);var a=e[1];return null==a&&this._subAnims&&(a=this._subAnims[0]),t=this._baseAssetID,a&&(t=this._baseAssetID+"$"+a,this.currentAnim=a),t},e.prototype._initFrameLabels=function(){this._labelFrames=[],this._frameSounds={};var t=this.define.labels;if(t)for(var e in t){var a=t[e];e.indexOf("@")>-1||this._labelFrames.push(a.start)}},e.prototype.setFpsForAnim=function(t,e){this._fpsForAnims[t]=e},e.prototype.addFrameSound=function(t,e){this._frameSounds[""+t]=e},e.prototype.removeFrameSound=function(t){delete this._frameSounds[""+t]},e.prototype.getLabels=function(t){return this.define.labels?this.define.labels[t]:null},e.prototype.hasLabel=function(t){return null!=this.getLabels(t)},e.prototype.getMainCollider=function(){return this.getCollider("main")||this._mainCollider},e.prototype.getCollider=function(t){var e=null;if(this._colliders){var a=this._colliders[t];null!=a&&(e=a[this.currentFrame])}return e},e.prototype._initColliders=function(){},e.prototype.getRect=function(t){return this.getMainCollider().getRect(t)},e.prototype.debugDraw=function(){this.getMainCollider().debugDraw()},e.prototype.getCenter=function(t){return this.getMainCollider().getCenter(t)},e.prototype.getAnchor=function(t){return null},e.prototype.bindAnchor=function(t,e,a){return!1},e.prototype.unbindAnchor=function(t,e){},e.prototype.getCurrentLabel=function(){var t=this.define.labels;if(!t)return null;for(var e in t){var a=t[e];if(this.currentFrame>=a.start&&this.currentFrame<=a.end)return e}return null},e.prototype.nextFrame=function(){this.gotoAndStop(Math.min(++this.currentFrame,this.totalFrames-1))},e.prototype.prevFrame=function(){this.gotoAndStop(Math.max(--this.currentFrame,0))},e.prototype.play=function(t){void 0===t&&(t=!1),t!==!0?(this._loopStart=0,this._loopEnd=this.totalFrames-1):(this._animReversed=!0,this._loopStart=this.totalFrames-1,this.currentFrame=this._loopStart,this._loopEnd=0),this.updatePlaying(!0),this.currentAnim=null},e.prototype.playSequence=function(t){if(null==t)return!1;if(t instanceof Array||(t=Array.prototype.slice.call(arguments)),0==t.length)return!1;this._loopSequence=!1,this._sequenceIndex=0;var e=this.gotoAndPlay(t[0]);return this._animSequence=t,e},e.prototype.playSequenceLoop=function(t){t instanceof Array||(t=Array.prototype.slice.call(arguments)),this.playSequence(t),this._loopSequence=!0},e.prototype.stopSequence=function(){this._loopSequence=!1,this._animSequence.length=0},e.prototype._setSubAnim=function(t,e){return t&&0!=t.length?null==this._subAnims||-1==this._subAnims.indexOf(t)?(this.__isButton||console.log("There is no animation named: "+t),!1):(this.setSource(this.assetsFile,this._baseAssetID+"$"+t),e===!1?this.gotoAndStop(0):(this._fpsForAnims[t]&&this.setFPS(this._fpsForAnims[t]),this.gotoAndPlay(0)),this.currentAnim=t,this._animTime=0,!0):!1},e.prototype.gotoAndPlay=function(t,e){if(void 0===e&&(e=!1),this._animReversed=!1,this._isLanguageElement||this.__isButton)return!1;if("string"==typeof t){if(this.playing&&this.currentAnim==t&&e!==!0)return!0;var a=this.getLabels(t);if(null==a){var p=this._setSubAnim(t,!0);return p||this.play(),p}this._loopStart=a.start,this._loopEnd=a.end,this.currentFrame=this._loopStart,this.currentAnim=t,this._fpsForAnims[t]&&this.setFPS(this._fpsForAnims[t])}else{if(!this.isValideFrame(t))return console.log("The frame: "+t+" is out of range!"),!1;this._loopStart=0,this._loopEnd=this.totalFrames-1,this.currentFrame=t,this.currentAnim=null}return this.renderFrame(this.currentFrame),this.updatePlaying(!0),this._animTime=0,!0},e.prototype.stop=function(){this._animReversed=!1,this.updatePlaying(!1),this.currentAnim=null},e.prototype.gotoAndStop=function(t){if(this._animReversed=!1,isNaN(t)){var e=this.getLabels(t);if(null==e){var a=this._setSubAnim(t,!1);return a||this.__isButton||console.log("There is no animation named: "+t),a}t=e.start}return this.currentAnim=null,this.isValideFrame(t)?(this.updatePlaying(!1),this.currentFrame=t,this.renderFrame(t),!0):(console.log("The frame: "+t+" is out of range!"),!1)},e.prototype.setFPS=function(t){this._fps!=t&&(this._fps=t,this.updateSchedule())},e.prototype.getFPS=function(){return this._fps},e.prototype.updatePlaying=function(t){this.playing!=t&&(this.playing=t,this.updateSchedule())},e.prototype.updateSchedule=function(){this.playing?this.totalFrames>1&&this.addEventListener(egret.Event.ENTER_FRAME,this.onFrame,this):this.removeEventListener(egret.Event.ENTER_FRAME,this.onFrame,this)},e.prototype.onFrame=function(t){if(this.visible){var e=1,a=this._animReversed,p=a?-1:1;this.currentFrame+=p,this._animTime+=e;var n=a?this.currentFrame<this._loopEnd:this.currentFrame>this._loopEnd;n&&(this.currentFrame=this._loopEnd,(this.autoDestroyWhenOver||this.autoStopWhenOver||this.autoHideWhenOver)&&this.updatePlaying(!1),this.dispatchEventWith(FlashEvent.ANIMATION_COMPLETE),this.autoDestroyWhenOver?this.destroy():this.autoHideWhenOver?this.visible=!1:this._animSequence.length?this._playNext():this.autoStopWhenOver||(this.currentFrame=this._loopStart),this._animTime=0),n=a?this.currentFrame<this._loopEnd:this.currentFrame>this._loopEnd;var r=a?this.currentFrame<0:this.currentFrame>this.totalFrames-1;(n||r)&&(this.currentFrame=this._loopStart),this.renderFrame(this.currentFrame)}},e.prototype._playNext=function(){},e.prototype.isValideFrame=function(t){return t>=0&&t<this.totalFrames},e.prototype.renderFrame=function(t,e){void 0===e&&(e=!1),(this._prevFrame!=t||1==e)&&(this._prevFrame!=t&&(this._prevFrame=t),this._handleAnchorBindings(),this._updateCollider(),this.doRenderFrame(t))},e.prototype._handleAnchorBindings=function(){},e.prototype._updateAnchorNode=function(t,e){null!=e&&(t.x=e.x,t.y=e.y,t.zIndex=e.zIndex,t.rotation=e.rotation,t.setScaleX(e.scaleX),t.setScaleY(e.scaleY))},e.prototype.onEnter=function(){},e.prototype.onExit=function(){this._destroyed=!0},e.prototype._updateLaguage=function(){},e.prototype._updateCollider=function(){},e.prototype.setPosition=function(t,e){this.x=t,this.y=e},e.prototype.setPositionX=function(t){this.setPosition(t,this.getPositionY())},e.prototype.setPositionY=function(t){this.setPosition(this.getPositionX(),t)},e.prototype.getPositionY=function(){return this.y},e.prototype.getPositionX=function(){return this.x},e.prototype.destroy=function(){for(this.removeEventListener(egret.Event.ENTER_FRAME,this.onFrame,this),this._destroyed=!0,this.autoRecycle;this.numChildren>0;)this.removeChildAt(0);this.parent&&this.parent.removeChild(this)},e.prototype.setScale=function(t){this.scaleX=t,this.scaleY=t},Object.defineProperty(e.prototype,"opacity",{get:function(){return this.alpha},set:function(t){this.alpha=t},enumerable:!0,configurable:!0}),e.prototype.onRecycle=function(){this.autoRecycle=!1,this.setScale(1),this.opacity=1,this.rotation=0,this.autoDestroyWhenOver=!1,this.autoStopWhenOver=!1,this.autoHideWhenOver=!1,this.ignoreBodyRotation=!1,this.gotoAndStop(0),this.setPosition(0,0),this._animSequence.length=0,this._loopSequence=!1,this._sequenceIndex=0,this._animReversed=!1,this.currentAnim=null,this.__isInputMask=!1},e.prototype.isMouseEnabled=function(){return this._mouseEnabled},e.prototype.setMouseEnabled=function(t){this._mouseEnabled=t},e.prototype.getDefine=function(){var t=XFlash.assetsManager.getDisplayDefine(this.assetsFile,this.assetID);if(null==t)throw"There is no Animator named: "+this.assetID+" in assets: "+this.assetsFile+", or make sure this class extends from the proper class!";return t},e.prototype.onNewSource=function(){var t=this.define.start,e=this.define.end;this.frameNames=XFlash.assetsManager.getFrameNames(this.assetsFile,t,e),this.totalFrames=this.frameNames.length,this.totalFrames>1?this.__isMovieClip=!0:this.__isMovieClip=!1,0==this.totalFrames},e.prototype.doRenderFrame=function(t){var e,a,p,n=this.define.type;if(a=XFlash.swfUrl+this.define.url,"jpg"==n||"png"==n){if(p=XFlash.getNameByURL(a),!p)throw"This file not exist!"+p;e=RES.getRes(p)}else{var r=XFlash.assetsManager.sheetstMap[this.assetsFile];e=r.getTexture(this.frameNames[t])}if(e){this.bitmap.texture=e;var o=this.define.anchorX,i=1-this.define.anchorY;this.anchorOffsetX=this.bitmap.measuredWidth*o,this.anchorOffsetY=this.bitmap.measuredHeight*i}},e.prototype.doRenderImage=function(t){RES.getResByUrl(t,function(t){this.bitmap.texture=t;var e=this.define.anchorX,a=1-this.define.anchorY;this.anchorOffsetX=this.bitmap.measuredWidth*e,this.anchorOffsetY=this.bitmap.measuredHeight*a},this,RES.ResourceItem.TYPE_IMAGE)},Object.defineProperty(e.prototype,"autoPlayChildren",{get:function(){return this._autoPlayChildren},set:function(t){this._autoPlayChildren=t},enumerable:!0,configurable:!0}),e}(egret.DisplayObjectContainer);__reflect(FlaxSprite.prototype,"FlaxSprite");var BaseScene=function(t){function e(){var e=t.call(this)||this;return e._miniLogoBmp=null,e}return __extends(e,t),e.prototype.$onAddToStage=function(e,a){t.prototype.$onAddToStage.call(this,e,a),XFlash.currentScene=this},e.prototype.addChild=function(e){return t.prototype.addChild.call(this,e),this._miniLogoBmp&&this.setChildIndex(this._miniLogoBmp,this.numChildren-1),e},e.prototype.destroy=function(){for(;this.numChildren>0;)this.removeChildAt(0)},e.prototype.onFadeInComplete=function(){},e.prototype.bindFullScreenButton=function(t){console.assert(t,"can not found fullScreenButton"),t.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){App.ClickFullscreen()},this),t.visible=App.FullscreenEnabled},e.prototype.bindCreditsButton=function(t){console.assert(t,"can not found creditsButton"),t.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){App.ClickCredits()},this),t.visible=App.CreditsEnabled},e.prototype.bindMoreButton=function(t){console.assert(t,"can not found moreButton"),t.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){App.ClickMore()},this),t.visible=App.MoreGamesButtonEnabled},e.prototype.bindSoundButton=function(t){console.assert(t,"can not found soundButton"),XFlash.getSoundEnabled()&&t.gotoAndStop(0),XFlash.getSoundEnabled()||t.gotoAndStop(1),t.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){var e=XFlash.getSoundEnabled();t.gotoAndStop(e?1:0),XFlash.setSoundEnabled(!e)},this)},e.prototype.onMiniLogo=function(t){App.ClickLogo()},e.prototype._createMiniLogo=function(){if(!this._miniLogoBmp){var t=App.textures.miniLogoUrl,a=new egret.Bitmap;t?a.texture=t:a.texture=RES.getRes("minilogo_png"),a.touchEnabled=!0,this.addChild(a),this._miniLogoBmp=a,this.aliginLogo(e.miniLogoAlign),this._miniLogoBmp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onMiniLogo,this)}},e.prototype.aliginLogo=function(t){if("NONE"==t)return this._miniLogoBmp.visible=!1,void(e.miniLogoNone=!0);e.miniLogoNone=!1,this._miniLogoBmp.visible=!0;var a=0,p=0;switch(t){case"BL":a=0,p=XFlash.stage.stageHeight-this._miniLogoBmp.height;break;case"BM":a=(XFlash.stage.stageWidth-this._miniLogoBmp.width)/2,p=XFlash.stage.stageHeight-this._miniLogoBmp.height;break;case"BR":a=XFlash.stage.stageWidth-this._miniLogoBmp.width,p=XFlash.stage.stageHeight-this._miniLogoBmp.height;break;case"TL":a=0,p=0;break;case"TM":a=(XFlash.stage.stageWidth-this._miniLogoBmp.width)/2,p=0;break;case"TR":a=XFlash.stage.stageWidth-this._miniLogoBmp.width,p=0;break;case"MM":a=(XFlash.stage.stageWidth-this._miniLogoBmp.width)/2,p=(XFlash.stage.stageHeight-this._miniLogoBmp.height)/2;break;default:var n=t.split(",");a=parseFloat(n[0]),p=parseFloat(n[1])}this._miniLogoBmp.x=a,this._miniLogoBmp.y=p},e.prototype.setMiniLogo=function(t){t=t.toLocaleUpperCase(),e.miniLogoAlign=t,this._createMiniLogo(),this.aliginLogo(t)},e}(eui.Component);BaseScene.miniLogoNone=!1,BaseScene.miniLogoAlign="tl",BaseScene.VERSION="2.2.3",__reflect(BaseScene.prototype,"BaseScene");var XMovieClip=function(t){function e(e,a){var p=t.call(this,e,a)||this;return p._pixelHitTestChildren=!0,p.clsName="XMovieClip",p.touchChildren=!0,p.bitmap&&(p.removeChild(p.bitmap),p.bitmap=null),p}return __extends(e,t),e.prototype.getDefine=function(){var t=XFlash.assetsManager.getMc(this.assetsFile,this.assetID);if(null==t)throw"There is no MovieClip named: "+this.assetID+" in assets: "+this.assetsFile+", or make sure this class extends from the proper class!";return t},e.prototype.destroy=function(){this.removeAllDefineChildren(),t.prototype.destroy.call(this)},e.prototype.removeAllDefineChildren=function(){if(this.define){var t;for(var e in this.define.children)t=this.namedChildren[e],t&&(t.destroy?t.destroy():this.removeChild(t)),delete this.namedChildren[e],delete this[e]}},e.prototype.getSortDefine=function(){var t,e=[];for(var a in this.define.children)t=this.define.children[a],t.childName=a,e.push(t);return e.sort(function(t,e){return t.zIndex-e.zIndex}),e},e.prototype.doRenderFrame=function(t){for(var a,p,n,r=null,o=this.define.anchorX,i=1-this.define.anchorY,l=-this._theRect.width*o,s=-this._theRect.height*i,u=this.getSortDefine(),d=0;d<u.length;d++)if(a=u[d],n=a.childName,p=this._frameDatas[n][t],r=this.namedChildren[n],p){null==r&&(null!=a.text?r=new XLabel(this.assetsFile,p,a):(r=XFlash.assetsManager.createDisplay(a.assetsFile||this.assetsFile,a["class"],null,!1),r.pixelHitTest=this._pixelHitTestChildren),this.namedChildren[n]=r,this[n]=r),r.name=n,p.setForChild(r,l,s);var h=-1==p.zIndex?a.zIndex:p.zIndex;r instanceof e&&(r.autoPlayChildren=this._autoPlayChildren),r.parent!=this?this.addChildAt(r,h):this.getChildIndex(r)!=h&&this.setChildIndex(r,h)}else r&&(r.destroy&&r.destroy(),delete this.namedChildren[n],delete this[n])},e.prototype.onNewSource=function(){this.namedChildren={},this.totalFrames=this.define.totalFrames,this._theRect=XFlash._strToRect(this.define.rect),this.$setWidth(this._theRect.width),this.$setHeight(this._theRect.height),this.totalFrames>1?this.__isMovieClip=!0:this.__isMovieClip=!1,this._initFrameDatas()},e.prototype._initFrameDatas=function(){this._frameDatas={};for(var t in this.define.children){for(var e=[],a=this.define.children[t].frames,p=-1;++p<a.length;){var n=a[p];n&&(n=n.split(","),e[p]=new FrameData(n,this._theRect))}this._frameDatas[t]=e}},Object.defineProperty(e.prototype,"autoPlayChildren",{get:function(){return this._autoPlayChildren},set:function(t){if(this._autoPlayChildren!=t){this._autoPlayChildren=t;for(var e in this.namedChildren){var a=this.namedChildren[e];a.autoPlayChildren=t}t?this.play():this.stop()}},enumerable:!0,configurable:!0}),e}(FlaxSprite);__reflect(XMovieClip.prototype,"XMovieClip");var GameIndex=function(t){function e(){var e=t.call(this)||this;return e._init(),e}return __extends(e,t),e.prototype._init=function(){this._back=new egret.Shape,this.addChild(this._back);var t='<e:Skin class="skins.TextInputSkin" minHeight="40" minWidth="300" states="normal,disabled,normalWithPrompt,disabledWithPrompt" xmlns:e="http://ns.egret.com/eui">\n            <e:Image width="100%" height="100%" alpha="0" scale9Grid="1,3,8,8" source="button_up_png"/>\n            <e:Rect height="100%" width="100%" alpha="0" fillColor="0xffffff"/>\n            <e:EditableText id="textDisplay" y="22" left="10" right="10"\n        textColor="0x000000" textColor.disabled="0xff0000" width="100%" height="50" size="30" />\n            <e:Label id="promptDisplay" y="22" left="10" right="10"\n        textColor="0xa9a9a9" width="100%" height="50" size="30" touchEnabled="false" includeIn="normalWithPrompt,disabledWithPrompt"/>\n            </e:Skin>';this._game=XFlash.assetsManager.createDisplay("game_json","gameindex"),this.addChild(this._game),GameData.loadStorage(),this._input=new eui.TextInput,this._input.skinName=t,GameData.heroName.length>0?this._input.text=GameData.heroName:this._input.prompt="Your Name",this._input.x=this._game.label_txt.x,this._input.y=this._game.label_txt.y,this._input.maxChars=12,this._input.width=300,this._input.height=70,this._game.addChild(this._input),this._moreBtn=XFlash.assetsManager.createDisplay("game_json","more"),this.addChild(this._moreBtn),this._iBtn=XFlash.assetsManager.createDisplay("game_json","i"),this.addChild(this._iBtn),this._fBtn=XFlash.assetsManager.createDisplay("game_json","quanping"),this.addChild(this._fBtn),this.bindMoreButton(this._moreBtn),this.bindCreditsButton(this._iBtn),this.bindFullScreenButton(this._fBtn),XFlash.stage.addEventListener(egret.Event.RESIZE,this._onStageResize,this),this._onResizeHandler(),this._game.addEventListener(egret.TouchEvent.TOUCH_TAP,this._onClick,this)},e.prototype._onClick=function(t){"new_btn"==t.target.name&&(0==this._input.text.length?GameData.heroName="Your Name":(GameData.heroName=this._input.text,console.log(this._input.text)),App.Start(),XFlash.replaceScene(GameMain,1))},e.prototype._onStageResize=function(t){this._onResizeHandler()},e.prototype._onResizeHandler=function(){this._back.graphics.clear(),this._back.graphics.beginFill(2895921),this._back.graphics.drawRect(0,0,XFlash.stage.stageWidth,XFlash.stage.stageHeight),this._back.graphics.endFill();var t=XFlash.stage.stageHeight/GameData.standHeight;this._game.scaleX=this._game.scaleY=t,this._game.x=XFlash.stage.stageWidth/2,this._game.y=XFlash.stage.stageHeight/2,this._moreBtn.scaleX=this._moreBtn.scaleY=this._iBtn.scaleX=this._iBtn.scaleY=this._fBtn.scaleX=this._fBtn.scaleY=t,this._moreBtn.y=XFlash.stage.stageHeight-this._moreBtn.height*t,this._fBtn.x=XFlash.stage.stageWidth-this._fBtn.width*t,this._fBtn.y=XFlash.stage.stageHeight-this._fBtn.height*t,this._iBtn.x=this._moreBtn.width*t+5,this._iBtn.y=XFlash.stage.stageHeight-this._iBtn.height*t},e}(BaseScene);__reflect(GameIndex.prototype,"GameIndex");var GameMain=function(t){function e(){var a=t.call(this)||this;return a.filler=[],a.stack=[],a.currentIndex=0,a._waitUI=null,a._waitLogo=null,a._waitStep=0,e._instance=a,a._initUI(),a}return __extends(e,t),e.getI=function(){return e._instance},e.prototype._initUI=function(){this._back=new egret.Shape,this.addChild(this._back),this._gameContainer=new egret.DisplayObjectContainer,this.addChild(this._gameContainer),this._baseContainer=new egret.DisplayObjectContainer,this._baseContainer.alpha=.8,this._gameContainer.addChild(this._baseContainer),this._tailContainer=new egret.DisplayObjectContainer,this._tailContainer.alpha=.6,this._gameContainer.addChild(this._tailContainer),this.border=new egret.Shape,this._gameContainer.addChild(this.border),this._playerContainer=new egret.DisplayObjectContainer,this._gameContainer.addChild(this._playerContainer),this._expContainer=new egret.DisplayObjectContainer,this._gameContainer.addChild(this._expContainer),this._ui=new GameUI,this.addChild(this._ui),egret.Capabilities.isMobile?(this._vkey=new VirKeyBoard("game_json","vkey"),this._vkey.alpha=.6,this._vkey.visible=!1,this.addChild(this._vkey)):window.addEventListener("keydown",this._onKeyDown),this._overBack=new egret.Shape,this.addChild(this._overBack),this._overPannel=new GameOverPannel("game_json","overpanel"),this._overPannel.initBack(this._overBack),this.addChild(this._overPannel),this._waitUI=XFlash.assetsManager.createDisplay("game_json","servloading"),this.addChild(this._waitUI),this._waitUI.autoPlayChildren=!0,this._overBack.visible=!0,this._waitLogo=XFlash.assetsManager.createDisplay("game_json","a5"),this.addChild(this._waitLogo),XFlash.stage.addEventListener(egret.Event.RESIZE,this._onStageResize,this),this.addEventListener(egret.Event.ENTER_FRAME,this._onEnterFrame,this),this._onResizeHandler()},e.prototype.clearAll=function(){egret.Tween.removeAllTweens();for(var t;GameData.timeoutArr.length>0;)t=GameData.timeoutArr.pop(),clearTimeout(t);for(var e;this._expContainer.numChildren>0;)e=this._expContainer.getChildAt(0),e.kill();for(var a;this._playerContainer.numChildren>0;)a=this._playerContainer.getChildAt(0),a.kill(),a=null;this.p1=null,this.p2=null,this.p3=null,this.p4=null,this.p5=null,this.p6=null,this.p7=null,this.p8=null,this.p9=null;for(var p=0;p<GameData.col;p++)for(var n=0;n<GameData.row;n++)GameData.playpaths[p][n]=null,GameData.playground[p][n]=null,this["base"+p+"_"+n].visible=!1},e.prototype.replayGame=function(){this.gameStart()},e.prototype._onKeyDown=function(t){if(!GameData.isPause){var a=e.getI();switch(t.which){case 37:(a.p1_dl==t.which-33||a.p1_dl==t.which-35||a.p1_dl==t.which-37||a.p1_dl==t.which-39)&&0!=a.p1_dl&&(a.p1_d=t.which-36);case 38:(a.p1_dl==t.which-33||a.p1_dl==t.which-35||a.p1_dl==t.which-37||a.p1_dl==t.which-39)&&0!=a.p1_dl&&(a.p1_d=t.which-36);case 39:(a.p1_dl==t.which-33||a.p1_dl==t.which-35||a.p1_dl==t.which-37||a.p1_dl==t.which-39)&&0!=a.p1_dl&&(a.p1_d=t.which-36);case 40:(a.p1_dl==t.which-33||a.p1_dl==t.which-35||a.p1_dl==t.which-37||a.p1_dl==t.which-39)&&0!=a.p1_dl&&(a.p1_d=t.which-36);break;default:return}t.preventDefault()}},e.prototype.gameStart=function(){GameData.gameInit();var t=20;this.border.graphics.beginFill(6697728),this.border.graphics.drawRect(-t,-t,t,GameData.mapHeight+2*t),this.border.graphics.drawRect(GameData.mapWidth,-t,t,GameData.mapHeight+2*t),this.border.graphics.drawRect(-t,-t,GameData.mapWidth+2*t,t),this.border.graphics.drawRect(-t,GameData.mapHeight,GameData.mapWidth+2*t,t),this.border.graphics.endFill(),this.p1_dl=0,this.p1_dm=0,this.p1_mv=[],this.p1_co=[0,0,0,0],this.p2_x=0,this.p2_y=0,this.p2_d=0,this.p2_dl=0,this.p2_dm=0,this.p2_mv=[],this.p2_co=[0,0,0,0],this.p3_x=0,this.p3_y=0,this.p3_d=0,this.p3_dl=0,this.p3_dm=0,this.p3_mv=[],this.p3_co=[0,0,0,0],this.p4_x=0,this.p4_y=0,this.p4_d=0,this.p4_dl=0,this.p4_dm=0,this.p4_mv=[],this.p4_co=[0,0,0,0],this.p5_x=0,this.p5_y=0,this.p5_d=0,this.p5_dl=0,this.p5_dm=0,this.p5_mv=[],this.p5_co=[0,0,0,0],this.p6_x=0,this.p6_y=0,this.p6_d=0,this.p6_dl=0,this.p6_dm=0,this.p6_mv=[],this.p6_co=[0,0,0,0],this.p7_x=0,this.p7_y=0,this.p7_d=0,this.p7_dl=0,this.p7_dm=0,this.p7_mv=[],this.p7_co=[0,0,0,0],this.p8_x=0,this.p8_y=0,this.p8_d=0,this.p8_dl=0,this.p8_dm=0,this.p8_mv=[],this.p8_co=[0,0,0,0],this.p9_x=0,this.p9_y=0,this.p9_d=0,this.p9_dl=0,this.p9_dm=0,this.p9_mv=[],this.p9_co=[0,0,0,0],this.newGame(),this.game_move("p2",1),this.game_move("p3",1),this.game_move("p4",1),this.game_move("p9",1),this.spawn("p2"),this.spawn("p3"),this.spawn("p4"),this.spawn("p5"),this.spawn("p6"),this.spawn("p7"),this.spawn("p9"),this.spawn("p1"),this._vkey&&(this._vkey.visible=!0)},e.prototype.newGame=function(){this.p2_y=10,this.p2_x=56,this.p2_d=Math.floor(4*Math.random())+1,this.p2_dl=this.p2_d,this.p2_dm=0,this.p2_co=[this.p2_x,this.p2_y,this.p2_x,this.p2_y],this.p2=this.getHero(),this.p2.initPeople(this.p2_x*GameData.gridSize,this.p2_y*GameData.gridSize,"p2"),this.p3_y=40,this.p3_x=47,this.p3_d=Math.floor(4*Math.random())+1,this.p3_dl=this.p3_d,this.p3_dm=0,this.p3_co=[this.p3_x,this.p3_y,this.p3_x,this.p3_y],this.p3=this.getHero(),this.p3.initPeople(this.p3_x*GameData.gridSize,this.p3_y*GameData.gridSize,"p3"),this.p4_y=45,this.p4_x=42,this.p4_d=Math.floor(4*Math.random())+1,this.p4_dl=this.p4_d,this.p4_dm=0,this.p4_co=[this.p4_x,this.p4_y,this.p4_x,this.p4_y],this.p4=this.getHero(),this.p4.initPeople(this.p4_x*GameData.gridSize,this.p4_y*GameData.gridSize,"p4"),this.p9_y=49,this.p9_x=16,this.p9_d=Math.floor(4*Math.random())+1,this.p9_dl=this.p9_d,this.p9_dm=0,this.p9_co=[this.p9_x,this.p9_y,this.p9_x,this.p9_y],this.p9=this.getHero(),this.p9.initPeople(this.p9_x*GameData.gridSize,this.p9_y*GameData.gridSize,"p9")},e.prototype.spawn=function(t){var a=e.getI();if(!a[t]){var p;if(GameData.isPause)return p=setTimeout(a.spawn,1e3,t),void GameData.timeoutArr.push(p);for(var n,r=Math.floor(Math.random()*(GameData.row-10))+5,o=Math.floor(Math.random()*(GameData.col-10))+5,i=o-5;o+5>i;i++)for(var l=r-5;r+5>l;l++)if(GameData.playground[i][l]||GameData.playpaths[i][l])return n=200,"p1"==t&&(n=0),p=setTimeout(a.spawn,n,t),void GameData.timeoutArr.push(p);a[t]=a.getHero(),a[t+"_y"]=r,a[t+"_x"]=o,a[t+"_d"]=0,a[t+"_dl"]=0,a[t+"_dm"]=0,a[t+"_mv"]=[],a[t].isReady=!1,a[t].initPeople(a[t+"_x"]*GameData.gridSize,a[t+"_y"]*GameData.gridSize,t),a[t+"_co"]=[a[t+"_x"],a[t+"_y"],a[t+"_x"],a[t+"_y"]];for(var s=a[t+"_x"]-1;s<=a[t+"_x"]+1;s++)for(var u=a[t+"_y"]-1;u<=a[t+"_y"]+1;u++)GameData.playground[s][u]=t;a.redraw_pg(),a.game_move(t,1),"p1"==t?(e.getI().updateMapPos(),a[t].y=a[t].y-500,egret.Tween.get(a[t]).to({y:a[t+"_y"]*GameData.gridSize},1e3,egret.Ease.bounceOut),n=1200):n=500,p=setTimeout(function(t){return function(){a[t+"_d"]=Math.floor(4*Math.random())+1,a[t+"_dl"]=t+"_d",a[t].isReady=!0,a.game_move(t,1)}}(t),n),GameData.timeoutArr.push(p)}},e.prototype.game_move=function(t,a){if(0!=this[t].isReady&&1!=GameData.isPause){var p,n,r,o,i,l,s,u,d,h,g,y=this[t+"_x"],c=this[t+"_y"],_=this[t+"_d"],m=this[t+"_dl"],f=this[t+"_dm"],v=this[t+"_co"],b=this[t+"_mv"];if(_&&"p1"!=t){if(GameData.playground[y][c]==t){switch(n=[0,25,25,25,25],n[_]=100,_){case 1:n[3]=-9999;break;case 2:n[4]=-9999;break;case 3:n[1]=-9999;break;case 4:n[2]=-9999}for(var x=1;4>=x;x++)for(var S=1;20>S;S++){switch(x){case 1:r=y-S,o=c;break;case 2:o=c-S,r=y;break;case 3:r=y+S,o=c;break;case 4:o=c+S,r=y}0>r||0>o||r>GameData.col-1||o>GameData.row-1?S>1?n[x]--:n[x]=-9999:(GameData.playground[y][c]!=t&&GameData.playground[r][o]==t&&n[x]--,GameData.playpaths[r][o]&&GameData.playpaths[r][o]!=t&&("p1"==GameData.playpaths[r][o]?n[x]+=30*(30-S):n[x]+=3*(30-S)))}for(p=[],x=1;4>=x;x++)for(S=1;S<=n[x];S++)p.push(x);p.length&&(_=p[Math.floor(Math.random()*p.length)])}else if(1*this[t]["data-score"]<1+2*Math.random()&&0==b.length||b.length>0&&b[0]>0){if(0==b.length){for(i=4*Math.random()+2,l=4*Math.random()+2,s=2*Math.floor(2*Math.random())-1,u=_,d=u+s,1>d?d+=4:d>4&&(d-=4),h=d+s,1>h?h+=4:h>4&&(h-=4),g=h+s,1>g?g+=4:g>4&&(g-=4),x=0;i>x;x++)b.push(u);for(x=0;l>x;x++)b.push(d);for(x=0;x<i+2*Math.random()+1;x++)b.push(h);for(x=0;l+2>x;x++)b.push(g);b.push(-1)}-1!=b[0]&&(_=b.shift())}else{switch(n=[0,5,5,5,5],n[_]=50,_){case 1:n[3]=-9999;break;case 2:n[4]=-9999;break;case 3:n[1]=-9999;break;case 4:n[2]=-9999}for(x=1;4>=x;x++)for(S=1;20>S;S++){switch(x){case 1:r=y-S,o=c;break;case 2:o=c-S,r=y;break;case 3:r=y+S,o=c;break;case 4:o=c+S,r=y}0>r||0>o||r>GameData.col-1||o>GameData.row-1?S>1?n[x]--:n[x]=-9999:(GameData.playpaths[r][o]==t&&(S>1?n[x]-=50-S:n[x]=-9999),GameData.playground[y][c]!=t&&GameData.playground[r][o]==t&&(n[x]+=10+S),GameData.playpaths[r][o]&&GameData.playpaths[r][o]!=t&&("p1"==GameData.playpaths[r][o]?n[x]+=30*(30-S):n[x]+=3*(30-S)))}for(p=[],x=1;4>=x;x++)for(S=1;S<=n[x];S++)p.push(x);p.length&&(_=p[Math.floor(Math.random()*p.length)])}this[t+"_d"]=_,this[t+"_mvs"]=b}if(GameData.playpaths[y][c]==t){var C=this[t],D=C.wb;_!=m?(D.graphics.beginFill(C.color),D.graphics.drawRect(y*GameData.gridSize,c*GameData.gridSize,GameData.gridSize,GameData.gridSize)):(D.graphics.beginFill(C.color),D.graphics.drawRect(y*GameData.gridSize,c*GameData.gridSize,GameData.gridSize,GameData.gridSize)),D.graphics.endFill()}switch(_){case 1:y--;break;case 2:c--;break;case 3:y++;break;case 4:c++}if(0>y||0>c||y>=GameData.col||c>=GameData.row)return void this.player_kill(t);if(GameData.playpaths[y][c]&&GameData.playpaths[y][c]!=t)"p1"==t&&GameData.killed_other++,this.player_kill(GameData.playpaths[y][c]),f++,y<v[0]&&(v[0]=y),c<v[1]&&(v[1]=c),y>v[2]&&(v[2]=y),c>v[3]&&(v[3]=c),GameData.playpaths[y][c]=t;else if(GameData.playground[y][c]!=t){if(GameData.playpaths[y][c]==t)return void this.player_kill(t);f++,y<v[0]&&(v[0]=y),c<v[1]&&(v[1]=c),y>v[2]&&(v[2]=y),c>v[3]&&(v[3]=c),GameData.playpaths[y][c]=t}else GameData.playground[y][c]==t&&f>0&&(this.path_closed(t),f=0);var E=this;E[t].isReady=!1;var F=function(){e.getI().updateMapPos()},w=null;"p1"==t&&(this.redraw_pg(),w={onChange:F,onChangeObj:this}),egret.Tween.get(this[t],w,null,!0).to({x:y*GameData.gridSize,y:c*GameData.gridSize},140).call(function(t){return function(){E[t]&&(E[t].isReady=!0,E.game_move(t,0))}}(t)),this[t+"_x"]=y,this[t+"_y"]=c,this[t+"_dl"]=_,this[t+"_dm"]=f,this[t+"_co"]=v}},e.prototype.updateMapPos=function(){if(this.p1){var t=this.getContainerPos(this.p1.x,this.p1.y);this._gameContainer.x=t.x,this._gameContainer.y=t.y}},e.prototype.player_kill=function(t){var e=this[t],a=this.createExp();a.explode(t,e.x,e.y,e.colorID),e.isReady=!1,e&&e.kill(),this[t]=null,this[t+"_d"]=0,this[t+"_dl"]=0;for(var p=0;p<GameData.col;p++)for(var n=0;n<GameData.row;n++)GameData.playpaths[p][n]==t&&(GameData.playpaths[p][n]=null),GameData.playground[p][n]==t&&(GameData.playground[p][n]=null);var r,o=this;"p1"==t?(this._vkey&&(this._vkey.visible=!1),GameData.isPause=!0,r=setTimeout(function(t){App.ChangeScene(function(){o._overPannel.showOver()},o)},600,t)):r=setTimeout(this.spawn,2e3+8e3*Math.random(),t),GameData.timeoutArr.push(r)},e.prototype.path_closed=function(t){var e=this[t+"_co"];
this[t+"_mv"]=[],this.filler=[];for(var a=e[0]-1;a<=e[2]+1;a++){this.filler[a]=[];for(var p=e[1]-1;p<=e[3]+1;p++)a<e[0]||p<e[1]||a>e[2]||p>e[3]?this.filler[a][p]=0:GameData.playground[a][p]==t?this.filler[a][p]=1:GameData.playpaths[a][p]==t?this.filler[a][p]=2:this.filler[a][p]=0}this.stack=[];var n;for(this.path_fill(e[0]-1,e[1]-1);this.stack.length>0;)n=this.stack.pop(),n[0]>=e[0]-1&&n[1]>=e[1]-1&&n[0]<=e[2]+1&&n[1]<=e[3]+1&&this.path_fill(n[0],n[1]);var r=[];for(a=e[0];a<=e[2];a++)for(r[a]=[],p=e[1];p<=e[3];p++)GameData.playpaths[a][p]==t&&(GameData.playpaths[a][p]=0),1!=this.filler[a][p]&&9!=this.filler[a][p]?(GameData.playground[a][p]=t,r[a][p]=!0):r[a][p]=!1;this[t+"_co"]=[this[t+"_x"],this[t+"_y"],this[t+"_x"],this[t+"_y"]];var o=this[t],i=o.wb;i.graphics.clear()},e.prototype.path_fill=function(t,e){0==this.filler[t][e]&&(this.filler[t][e]=9,this.stack.push([t,e-1]),this.stack.push([t+1,e]),this.stack.push([t,e+1]),this.stack.push([t-1,e]))},e.prototype.redraw_pg=function(){for(var t,e,a,p,n,r=[],o=0,i=this.getHeroRange(),l=0;l<GameData.col;l++){t="",e=0;for(var s=0;s<GameData.row;s++)a=GameData.playground[l][s],n=this["base"+l+"_"+s],n.visible=!1,a&&(r[a]?r[a]++:r[a]=1,r[a]>o&&(o=r[a]),l>=i[0]&&l<i[1]&&s>=i[2]&&s<=i[3]&&(p=this[a],n.texture=RES.getRes("c"+p.colorID+"_png"),n.visible=!0,n.x=l*GameData.gridSize,n.y=s*GameData.gridSize))}var u,d,h,g,y,c=[];for(var _ in r)if(r.hasOwnProperty(_)){y=this[_],d=r[_],u=d/(GameData.col*GameData.row)*100,"p1"==_&&(h=a,GameData.heroScore=100*d),g=d/o*100,this[_]["data-score"]=u;var m={percentOwn:u,count:d,name:y.peopleName,color:y.color,colorid:y.colorID};c.push(m)}c.sort(function(t,e){return e.percentOwn-t.percentOwn}),this._ui.updateUI(c)},e.prototype.getHero=function(){var t=ObjectPool.pop("People");return this._playerContainer.addChild(t),t},e.prototype.createItem=function(){var t=ObjectPool.pop("ScoreItem");return this._ui.addChild(t),t},e.prototype.createWB=function(){var t=ObjectPool.pop("Weiba");return this._tailContainer.addChild(t),t},e.prototype.createExp=function(){var t=ObjectPool.pop("Exploder");return this._expContainer.addChild(t),t},e.prototype.createBmp=function(){var t=new egret.Bitmap;return this._baseContainer.addChild(t),t},e.prototype.getHeroRange=function(){var t=(this.p1,60),e=this._playerContainer.globalToLocal(0-t,0-t),a=this._playerContainer.globalToLocal(XFlash.stage.stageWidth+t,XFlash.stage.stageHeight+t),p=GameData.pixelToTileX(e.x);0>p&&(p=0);var n=GameData.pixelToTileX(a.x);n>GameData.col&&(n=GameData.col);var r=GameData.pixelToTileY(e.y);0>r&&(r=0);var o=GameData.pixelToTileY(a.y);return o>GameData.row&&(o=GameData.row),[p,n,r,o]},e.prototype._onEnterFrame=function(t){0==this._waitStep&&(this.createBase(),this.currentIndex==GameData.row*GameData.col&&(this.removeEventListener(egret.Event.ENTER_FRAME,this._onEnterFrame,this),this._waitUI.autoPlayChildren=!1,this.removeChild(this._waitUI),this._waitUI=null,this.removeChild(this._waitLogo),this._waitLogo=null,this._overBack.visible=!1,this.gameStart()))},e.prototype.createBase=function(){for(var t=this.currentIndex+25,e=this.currentIndex;t>e;e++){var a=new egret.Bitmap,p=e%GameData.col,n=Math.floor(e/GameData.col);this["base"+p+"_"+n]=a,this._baseContainer.addChild(a)}this.currentIndex=t},e.prototype.drawMap=function(){},e.prototype._onStageResize=function(t){this._onResizeHandler()},e.prototype._onResizeHandler=function(){this._back.graphics.clear(),this._back.graphics.beginFill(14676983),this._back.graphics.drawRect(0,0,XFlash.stage.stageWidth,XFlash.stage.stageHeight),this._back.graphics.endFill(),this._overBack.graphics.clear(),this._overBack.graphics.beginFill(2895921,1),this._overBack.graphics.drawRect(0,0,XFlash.stage.stageWidth,XFlash.stage.stageHeight),this._overBack.graphics.endFill();var t=XFlash.stage.stageHeight/GameData.standHeight;GameData.mapScale=t,this._waitUI&&(this._waitUI.scaleX=this._waitUI.scaleY=t,this._waitUI.x=XFlash.stage.stageWidth/2,this._waitUI.y=(XFlash.stage.stageHeight-this._waitUI.height*t)/2),this._waitLogo&&(this._waitLogo.alpha=.1,this._waitLogo.scaleX=this._waitLogo.scaleY=.2*t,this._waitLogo.x=XFlash.stage.stageWidth/2,this._waitLogo.y=XFlash.stage.stageHeight-this._waitLogo.height*t*.2),this._ui&&this._ui.onResize(),this._vkey&&(this._vkey.scaleX=this._vkey.scaleY=t,this._vkey.y=XFlash.stage.stageHeight-this._vkey.height*t),this._overPannel.scaleX=this._overPannel.scaleY=t,this._overPannel.x=XFlash.stage.stageWidth/2,this._overPannel.y=XFlash.stage.stageHeight/2,this._gameContainer.scaleX=this._gameContainer.scaleY=t,this.updateMapPos()},e.prototype.getContainerPos=function(t,e){var a=new egret.Point(t*GameData.mapScale-XFlash.stage.stageWidth/2,e*GameData.mapScale-XFlash.stage.stageHeight/2),p=GameData.mapWidth*GameData.mapScale-XFlash.stage.stageWidth,n=GameData.mapHeight*GameData.mapScale-XFlash.stage.stageHeight,r=a.x/p,o=a.y/n;return-1.2>r?r=1.2:r>1.2&&(r=1.2),-1.2>o?o=-1.2:o>1.2&&(o=1.2),new egret.Point(-r*p,-o*n)},e}(BaseScene);GameMain._instance=null,__reflect(GameMain.prototype,"GameMain");var GameOverPannel=function(t){function e(e,a){var p=t.call(this,e,a)||this;return p._px1=0,p._px1=p.play_btn.x,p.play_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,p._onClick,p),p}return __extends(e,t),e.prototype.initBack=function(t){this._back=t,this._back.visible=!1,this.visible=!1},e.prototype.showOver=function(){var t=GameData.heroScore;t>GameData.maxScore&&(GameData.maxScore=t),GameData.saveStorage(),this.score_txt.text=t,this.best_txt.text=GameData.maxScore,GameData.timePlayed=egret.getTimer()-GameData.starttime,this.time_txt.text=XFlash.timeFormat(GameData.timePlayed),this.kill_txt.text=GameData.killed_other,this.play_btn.x=this._px1-200,this.play_btn.alpha=0,this.play_btn.touchEnabled=!1,this._back.visible=!0,this._back.alpha=0;var e=this;egret.Tween.get(this._back).to({alpha:1},1e3).call(function(){GameMain.getI().clearAll(),e._showReplayButton()},this),this.visible=!0},e.prototype._showReplayButton=function(){var t=this;egret.Tween.get(this.play_btn).to({x:this._px1,alpha:1},300,egret.Ease.backInOut).call(function(){t.play_btn.touchEnabled=!0},this)},e.prototype._onClick=function(t){this.visible=!1,this._back.visible=!1,GameMain.getI().replayGame()},e}(XMovieClip);__reflect(GameOverPannel.prototype,"GameOverPannel");var GameUI=function(t){function e(){var e=t.call(this)||this;return e.arr=null,e.initItem(),e}return __extends(e,t),e.prototype.initItem=function(){for(var t,e=0;7>e;e++)t=new ScoreItem,this.addChild(t),this["item"+e]=t},e.prototype.onResize=function(){for(var t,e=GameData.mapScale,a=0;7>a;a++)t=this["item"+a],t.scaleX=t.scaleY=e,t.y=30*a*e,t.x=XFlash.stage.stageWidth-200*e+15*a*e},e.prototype.updateUI=function(t){this.arr=t;for(var e,a,p=GameData.mapScale,n=0;7>n;n++)a=t[n],e=this["item"+n],e.visible=!1,a&&(e.visible=!0,e.y=30*n*p,e.x=XFlash.stage.stageWidth-200*p+15*n*p,e&&e.updateScore(n+1,a.percentOwn,a.name,a.colorid))},e}(egret.DisplayObjectContainer);__reflect(GameUI.prototype,"GameUI");var People=function(t){function e(){var e=t.call(this)||this;return e.pid=null,e.bmp=new egret.Bitmap,e.addChild(e.bmp),e._txt=new egret.TextField,e._txt.size=14,e._txt.textAlign=egret.HorizontalAlign.CENTER,e.addChild(e._txt),e._txt.strokeColor=16777215,e._txt.stroke=2,e._txt.touchEnabled=!1,e.touchChildren=!1,e.touchEnabled=!1,e}return __extends(e,t),e.prototype.removeWeiba=function(){this.wb&&(this.wb.kill(),this.wb=null)},e.prototype.initPeople=function(t,e,a){this.wb=GameMain.getI().createWB(),this.x=t,this.y=e;var p=GameData.getColor();this.color=p.color,this.colorID=p.idx,this.pid=a,"p1"==this.pid?this.peopleName=GameData.heroName:this.peopleName=GameData.getRobertName(),this.bmp.texture=RES.getRes("ca"+this.colorID+"_png"),this._txt.textColor=this.color,this._txt.text=this.peopleName,this.width=this._txt.textWidth,this._txt.height=this._txt.textHeight,this._txt.x=-(this._txt.textWidth-GameData.gridSize)/2,this._txt.y=-20},e.prototype.kill=function(){this.parent&&("p1"!=this.pid&&GameData.names.push(this.peopleName),GameData.colorIDS.push(this.colorID),this.removeWeiba(),ObjectPool.push(this),this.parent.removeChild(this))},e}(egret.DisplayObjectContainer);__reflect(People.prototype,"People");var ScoreItem=function(t){function e(){var e=t.call(this)||this;return e.uid=0,e._bmp=new egret.Bitmap,e.addChild(e._bmp),e._txt=new egret.TextField,e._txt.textAlign=egret.HorizontalAlign.LEFT,e._txt.multiline=!1,e._txt.touchEnabled=!1,e._txt.size=14,e._txt.text="00",e._txt.height=e._txt.textHeight,e._txt.width=200,e._txt.touchEnabled=!1,e._txt.x=5,e._txt.y=8,e.addChild(e._txt),e.visible=!1,e.touchChildren=!1,e.touchEnabled=!1,e}return __extends(e,t),e.prototype.updateScore=function(t,e,a,p){this._bmp.texture=RES.getRes("ca"+p+"_png"),this._bmp.width=200,this._bmp.height=30,this._txt.text=t+" - "+e.toFixed(2)+"%  "+a,this.visible=!0},e}(egret.DisplayObjectContainer);__reflect(ScoreItem.prototype,"ScoreItem");var TileBox=function(t){function e(){var e=t.call(this)||this;return e.aniX=0,e.aniY=0,e.scaleX=e.scaleY=.2,e}return __extends(e,t),e.prototype.drawBox=function(t,e,a){this.texture=RES.getRes("c"+t+"_png")},e}(egret.Bitmap);__reflect(TileBox.prototype,"TileBox");var VirKeyBoard=function(t){function e(e,a){var p=t.call(this,e,a)||this;return p._preBtn=null,p.addEventListener(egret.TouchEvent.TOUCH_BEGIN,p._onTouchDown,p),XFlash.stage.addEventListener(egret.TouchEvent.TOUCH_END,p._onTouchUp,p),XFlash.stage.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,p._onTouchUp,p),p}return __extends(e,t),e.prototype._onTouchUp=function(t){this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this._preBtn&&(this._preBtn.gotoAndStop(0),this._preBtn=null)},e.prototype._onTouchDown=function(t){GameData.isPause||(this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this._touchHandler(t))},e.prototype.onTouchMove=function(t){this._touchHandler(t)},e.prototype._touchHandler=function(t){var e=null,a=0;if(XFlash.ifTouched(this.up_btn,t.stageX,t.stageY)?(e=this.up_btn,a=38):XFlash.ifTouched(this.down_btn,t.stageX,t.stageY)?(e=this.down_btn,a=40):XFlash.ifTouched(this.left_btn,t.stageX,t.stageY)?(e=this.left_btn,a=37):XFlash.ifTouched(this.right_btn,t.stageX,t.stageY)&&(e=this.right_btn,a=39),e&&this._preBtn!=e){this._preBtn&&this._preBtn.gotoAndStop(0),e.gotoAndStop(1),this._preBtn=e;var p=GameMain.getI();(p.p1_dl==a-33||p.p1_dl==a-35||p.p1_dl==a-37||p.p1_dl==a-39)&&0!=p.p1_dl&&(p.p1_d=a-36)}},e}(XMovieClip);__reflect(VirKeyBoard.prototype,"VirKeyBoard");var Weiba=function(t){function e(){var e=t.call(this)||this;return e.cacheAsBitmap=!0,e}return __extends(e,t),e.prototype.kill=function(){this.graphics.clear(),this.parent&&(ObjectPool.push(this),this.parent.removeChild(this))},e}(egret.Shape);__reflect(Weiba.prototype,"Weiba");var Main=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isThemeLoadEnd=!1,e.isResourceLoadEnd=!1,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this);var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),App.init(),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var e=new eui.Theme("resource/default.thm.json",this.stage);e.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.createScene())},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){if("preload"==t.groupName){var e=t.itemsLoaded/t.itemsTotal*100|0;if(e=Math.min(e,100),t.itemsLoaded/t.itemsTotal==1)MGDelegate.dispatcherEvent(new MGEvent(MGEvent.LOAD_COMPLETE));else{var a=new MGEvent(MGEvent.LOAD_PROGRESS);a.data={itemsLoaded:t.itemsLoaded,itemsTotal:t.itemsTotal,percent:e},MGDelegate.dispatcherEvent(a)}}},e.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&(XFlash.init(this.stage,"resource/swfs/",RES.getGroupByName("preload")),MGDelegate.addEventListener(MGEvent.ENTER_GAME||"ENTER_GAME",function(){MGDelegate.removeEventListener(MGEvent.ENTER_GAME||"ENTER_GAME",arguments.callee,this),App.ChangeScene(function(){XFlash.replaceScene(GameIndex,1)},this)},this))},e}(eui.UILayer);__reflect(Main.prototype,"Main");var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,a,p){function n(t){e.call(p,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),a.call(p))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var Exploder=function(t){function e(){var e=t.call(this)||this;return e.uid=-1,e.initChildBox(),e.visible=!1,e.touchChildren=!1,e.touchEnabled=!1,e}return __extends(e,t),e.prototype.initChildBox=function(){for(var t,e=0;2>=e;e++)for(var a=0;3>=a;a++)t=new TileBox,t.scaleX=t.scaleY=.3,this.addChild(t),this["box"+e+"_"+a]=t;this.box0_0.aniX=-20,this.box0_0.aniY=-20,this.box1_0.aniX=0,this.box1_0.aniY=-20,this.box2_0.aniX=20,this.box2_0.aniY=-20,this.box0_1.aniX=-20,this.box0_1.aniY=0,this.box1_1.aniX=0,this.box1_1.aniY=0,this.box2_1.aniX=20,this.box2_1.aniY=0,this.box0_2.aniX=-20,this.box0_2.aniY=20,this.box1_2.aniX=0,this.box1_2.aniY=20,this.box2_2.aniX=20,this.box2_2.aniY=20},e.prototype.explode=function(t,e,a,p){this.uid=t,this.visible=!0,this.alpha=1;for(var n,r,o,i=GameData.gridSize/3,l=GameData.gridSize/3,s=0;2>=s;s++)for(var u=0;2>=u;u++)n=this["box"+s+"_"+u],n.drawBox(p,i,l),n.x=(s-1)*i,n.y=(u-1)*l,r=n.x+n.aniX,o=n.y+n.aniY,egret.Tween.get(n).to({x:r,y:o},400);this.x=e,this.y=a;var d=this;egret.Tween.get(this).to({alpha:0},600).call(function(){d.visible=!1,d.kill()},this)},e.prototype.kill=function(){this.parent&&(ObjectPool.push(this),this.parent.removeChild(this))},e}(egret.DisplayObjectContainer);__reflect(Exploder.prototype,"Exploder");var AssetsManager=function(){function t(){this.ASSET_NONE=0,this.ASSET_ANIMATOR=1,this.ASSET_MOVIE_CLIP=2,this.ASSET_IMAGE=3,this.framesCache={},this.displaysCache={},this.displayDefineCache={},this.mcsCache={},this.subAnimsCache={},this.sheetstMap={},this.init()}return t.prototype.init=function(){this.framesCache={},this.displaysCache={},this.displayDefineCache={},this.mcsCache={},this.subAnimsCache={},this.sheetstMap={}},t.prototype.createDisplay=function(t,e,a,p,n){if(void 0===a&&(a=null),void 0===p&&(p=!1),void 0===n&&(n=null),null==t||null==e)throw"Please give me assetsFile and assetID!";if(null==n&&a&&(n=a["class"]),a&&"string"==typeof a||n&&"string"!=typeof n)throw"Params error: maybe you are using the old api, please use the latest!";this.addAssets(t);var r=this.getSubAnims(t,e);r.length&&(e=e+"$"+r[0]);var o=this.getDisplayDefine(t,e);if(o&&"share"==o.type)return this.createDisplay(this._getSharedPlist(t,o),e,a,p,n);var i=null;if(null==i){var l=!1;if(null==o&&(o=this.getMc(t,e),l=!0),!o)throw"There is no display with assetID: "+e+" in assets file: "+t+", or make sure the display is not a BLANK symbol!";if(n=o.type,"null"!=n&&"jpg"!=n&&"png"!=n){if("progress"==n&&(n="xxhd.ProgressBar"),i=egret.getDefinitionByName(n))return new i(t,e);throw"this is class not exist"+n}}n=l?"XMovieClip":"FlaxSprite";var i=egret.getDefinitionByName(n);return new i(t,e)},t.prototype.parserFrames=function(t,e){var a,p,n,r=/\{|\}/g;for(var o in e)a=e[o],p=a.frame,p=p.replace(r,""),n=p.split(","),a.x=n[0],a.y=n[1],a.w=n[2],a.h=n[3],t.createTexture(o,n[0],n[1],n[2],n[3])},t.prototype.addAssets=function(t){if("undefined"!=typeof this.framesCache[t])return!1;var e=t,a=RES.getRes(e);if(null==a)throw"Make sure you have pre-loaded the resource: "+t;var p=a.metadata.fps,n=[],r=a.frames,o=a.metadata.image;o=o.replace(".","_");var i=new egret.SpriteSheet(RES.getRes(o));this.sheetstMap[e]=i,this.parserFrames(i,r);for(var l in r)n.push(l);return n.sort(),this.framesCache[t]=n,a.displays&&this._parseDisplays(t,a.displays,p),a.mcs&&this._parseMovieClips(t,a.mcs,p),a.fonts,!0},t.prototype._parseDisplays=function(t,e,a){var p=[],n=null;for(var r in e)p.push(r),n=e[r],this.displayDefineCache[t+r]=n,this._parseSubAnims(t,r);this.displaysCache[t]=p},t.prototype._parseMovieClips=function(t,e,a){for(var p in e){var n,r=e[p],o=r.children;for(var i in o)n=o[i],n.frames=this._strToArray(n.frames);this.mcsCache[t+p]=r,this._parseSubAnims(t,p)}},t.prototype._parseSubAnims=function(t,e){var a=e.split("$"),p=a[0],n=a[1];if(p&&n&&""!=p&&""!=n){var r=t+p,o=this.subAnimsCache[r];null==o&&(o=[],this.subAnimsCache[r]=o),o.push(n)}},t.prototype._parseFrames=function(t){var e={};for(var a in t)e[a]=this._strToArray(t[a]);return e},t.prototype._strToArray=function(t){for(var e=t.split("|"),a=-1,p=[];++a<e.length;){var n=e[a];"null"===n?p.push(null):""===n?p.push(p[a-1]):p.push(n)}return p},t.prototype.getAssetType=function(t,e){if(this.getMc(t,e))return this.ASSET_MOVIE_CLIP;var a=this.getDisplayDefine(t,e);return a?"jpg"==a.type||"png"==a.type?this.ASSET_IMAGE:"share"==a.type?this.getAssetType(this._getSharedPlist(t,a),e):this.ASSET_ANIMATOR:this.ASSET_NONE},t.prototype.getSubAnims=function(t,e){this.addAssets(t);var a=t+e;return this.subAnimsCache[a]||[]},t.prototype.getMc=function(t,e){this.addAssets(t);var a=t+e;return this.mcsCache[a]},t.prototype.getDisplayDefine=function(t,e){this.addAssets(t);var a=t+e;return this.displayDefineCache[a]},t.prototype.getFrameNames=function(t,e,a){this.addAssets(t);var p=this.framesCache[t];return null==p?[]:(-1==e&&(e=0),-1==a&&(a=p.length-1),p.slice(parseInt(e),parseInt(a)+1))},t.prototype._getSharedPlist=function(t,e){var a=t.substring(t.indexOf("_")),p=e.url+a;return p},t.prototype.removeAssets=function(t){delete this.framesCache[t],delete this.displaysCache[t],delete this.displayDefineCache[t],delete this.mcsCache[t],delete this.subAnimsCache[t]},t.prototype.removeAllAssets=function(){for(var t in this.framesCache)this.removeAssets(t)},t}();__reflect(AssetsManager.prototype,"AssetsManager");var FlashEvent=function(){function t(){}return t}();FlashEvent.ANIMATION_COMPLETE="ANIMATION_COMPLETE",FlashEvent.ANIMATION_UPDATE="ANIMATION_UPDATE",__reflect(FlashEvent.prototype,"FlashEvent");var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,a){function p(p){e.call(a,p,t)}if(RES.hasRes(t)){var n=RES.getRes(t);n?p(n):RES.getResAsync(t,p,this)}else RES.getResByUrl(t,p,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var FrameData=function(){function t(t,e){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.opacity=0,this.zIndex=0,this.skewX=0,this.skewY=0,this.font=null,this.fontSize=12,this.fontColor=0,this.textAlign=null,this.textWidth=0,this.textHeight=0,this._isText=!1,this._data=null,this._hasSkew=!1,this.rect=null,this._data=t,this.rect=e,this.x=parseFloat(t[0]),this.y=this.rect.height-parseFloat(t[1]),this.rotation=parseFloat(t[2]),this.scaleX=parseFloat(t[3]),this.scaleY=parseFloat(t[4]),this.opacity=parseFloat(t[5]),t.length>6&&(this.zIndex=parseInt(t[6])),t.length>7&&(this.skewX=parseFloat(t[7])),t.length>8&&(this.skewY=parseFloat(t[8])),this._hasSkew=t.length>7,t.length>9){this._isText=!0,this.font=t[9],this.fontSize=parseInt(t[10]);var a=t[11];a=a.replace("#","0x"),this.fontColor=a,this.textAlign=t[12],this.textWidth=parseFloat(t[13]),this.textHeight=parseFloat(t[14])}}return t.prototype.setForChild=function(t,e,a){this._hasSkew||(t.rotation=this.rotation),t.alpha=this.opacity,t.scaleX=this.scaleX,t.scaleY=this.scaleY,this._hasSkew&&(t.skewX=this.skewX,t.skewY=this.skewY);var p=this.x,n=this.y;this.font&&t instanceof XLabel&&(t.fontFamily=this.font,t.textAlign=this.textAlign,t.textColor=this.fontColor,t.size=this.fontSize,t.width=this.textWidth,t.height=this.textHeight,n+=3),t.x=p+e,t.y=n+a},t.prototype.clone=function(){return new t(this._data,this.rect)},t}();__reflect(FrameData.prototype,"FrameData");var ObjectPool=function(){function t(){this._objs=new Array}return t.prototype.pushObj=function(t){this._objs.push(t)},t.prototype.popObj=function(){return this._objs.length>0?this._objs.pop():null},t.prototype.clear=function(){for(;this._objs.length>0;)this._objs.pop()},t.popByClassName=function(e,a,p){void 0===p&&(p=null);var n=e+"_"+a;n=p?e&&a?p+"_"+e+"_"+a:p:e+"_"+a,t._content[n]||(t._content[n]=[]);var r,o=t._content[n];if(o.length)r=o.pop();else{if(p){var i=egret.getDefinitionByName(p);r=new i(e,a)}else r=XFlash.assetsManager.createDisplay(e,a);r.ObjectPoolKey=n}return r},t.pushMC=function(e){var a;a=e.ObjectPoolKey?e.ObjectPoolKey:egret.getQualifiedClassName(e),t._content[a]||(t._content[a]=[]);var p=t._content[a];p.push(e)},t.pop=function(e){for(var a=[],p=1;p<arguments.length;p++)a[p-1]=arguments[p];t._content[e]||(t._content[e]=[]);var n=t._content[e];if(n.length)return n.pop();var r,o=egret.getDefinitionByName(e),i=a.length;return 0==i?r=new o:1==i?r=new o(a[0]):2==i?r=new o(a[0],a[1]):3==i?r=new o(a[0],a[1],a[2]):4==i?r=new o(a[0],a[1],a[2],a[3]):5==i&&(r=new o(a[0],a[1],a[2],a[3],a[4])),r.ObjectPoolKey=e,r},t.popWithExtraKey=function(e,a){t._content[e]||(t._content[e]=[]);var p,n=t._content[e];if(n.length)for(var r=0;r<n.length;r++)if(n[r].extraKey==a){p=n[r],n.splice(r,1);break}if(!p){var o=egret.getDefinitionByName(e);p=new o(a),p.extraKey=a,p.ObjectPoolKey=e}return p},t.push=function(e){if(null==e)return!1;var a=e.ObjectPoolKey;return t._content[a]?(t._content[a].push(e),!0):!1},t.clear=function(){t._content={}},t.clearClass=function(e,a){void 0===a&&(a=null);for(var p=t._content[e];p&&p.length;){var n=p.pop();a&&n[a](),n=null}t._content[e]=null,delete t._content[e]},t.dealFunc=function(e,a){var p=t._content[e];if(null!=p){var n=0,r=p.length;for(n;r>n;n++)p[n][a]()}},t.recoverPool=function(e){for(var a=0;a<e.length;a++)t.push(e[a])},t}();ObjectPool._content={},__reflect(ObjectPool.prototype,"ObjectPool");var SoundManager=function(){function t(){}return t}();__reflect(SoundManager.prototype,"SoundManager");var XFlash=function(){function t(){}return t.init=function(t,e,a){void 0===e&&(e="resource/swfs/"),this.preLoadGroup=a,this.stage=t,this.swfUrl=e,this.assetsManager=new AssetsManager},t.getNameByURL=function(t){var e;for(var a in this.preLoadGroup)if(e=this.preLoadGroup[a],e.url==t)return e.name;return null},t._strToRect=function(t){var e=t.split(",");return new egret.Rectangle(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]))},t.replaceScene=function(e,a){void 0===a&&(a=-1),t.currentScene&&(t.currentScene.parent.removeChild(t.currentScene),t.currentScene=null);var p=new e;a>0&&(p.touchChildren=!1,p.touchEnabled=!1,p.alpha=0,egret.Tween.get(p,null,null,!0).to({alpha:1},a).call(function(){this.touchChildren=!0,this.touchEnabled=!0,this.onFadeInComplete&&this.onFadeInComplete()},p)),t.stage.addChild(p)},t.getSoundEnabled=function(){return t.soundEnabled},t.setSoundEnabled=function(e){t.soundEnabled=e,e?this.resumeAllSound():this.stopAllSound()},t.resumeAllSound=function(){this.bgSound&&(this.bgSoundChannel=this.bgSound.play(0,0))},t.stopAllSound=function(){this.bgSoundChannel&&(this.bgSoundPosition=this.bgSoundChannel.position,this.bgSoundChannel.stop(),this.bgSoundChannel=null);for(var t;this.soundPlayArr.length>0;)t=this.soundPlayArr.pop(),t.channel&&t.channel.stop(),t.channel=null,t=null},t.stopSound=function(e){var a=t.soundPlayArr.indexOf(e);a>-1&&t.soundPlayArr.splice(a,1),e.channel.stop(),e.channel=null,e=null},t.playSound=function(e){t.soundEnabled&&(this.bgSoundChannel&&this.bgSoundChannel.stop(),this.bgSoundChannel=null,this.bgSound=null,this.bgSound=RES.getRes(e),this.bgSoundPosition=0,this.bgSoundChannel=this.bgSound.play(this.bgSoundPosition))},t.playEffect=function(e,a){if(void 0===a&&(a=1),t.soundEnabled){var p=RES.getRes(e);return this.soundPlayArr.push(p),p.channel=p.play(0,a),1==a&&p.channel.addEventListener(egret.Event.SOUND_COMPLETE,function(){this.channel=null,t.soundPlayArr.splice(t.soundPlayArr.indexOf(this),1)},p),p}},t.ifInRect=function(t,e,a){return e>=t.x&&e<=t.x+t.width&&a>=t.y&&a<=t.y+t.height?!0:!1},t.ifTouched=function(e,a,p){var n=e.getTransformedBounds(t.stage);return t.ifInRect(n,a,p)},t.ifCollision=function(e,a){var p=e.getTransformedBounds(t.stage),n=a.getTransformedBounds(t.stage);return t.ifInRect(n,p.x,p.y)||t.ifInRect(n,p.x+p.width,p.y)||t.ifInRect(n,p.x,p.y+p.height)||t.ifInRect(n,p.x+p.width,p.y+p.height)?!0:!1},t.randInt=function(t,e){return t+Math.floor(Math.random()*(e-t+1))},t.nameToObject=function(t,e){return void 0===e&&(e=null),egret.getDefinitionByName(t)},t.timeFormat=function(t){var e=function(t){return 10>t?"0"+t:t},a=t/1e3,p=Math.floor(a/3600),n=Math.floor((a-3600*p)/60),r=a-3600*p-60*n;return e(n)+":"+e(Math.floor(r))},t}();XFlash.assetsManager=null,XFlash.stage=null,XFlash.miniLogoUrl="resource/img/minilogo.png",XFlash.bgUrl="resource/img/mlbg.png",XFlash.logoUrl="resource/img/mllogo.png",XFlash.playUrl="resource/img/mlplay.png",XFlash.currentScene=null,XFlash.soundEnabled=!0,XFlash.swfUrl="resource/swfs/",XFlash.soundPlayArr=[],XFlash.soundPool={},XFlash.bgSoundPosition=0,XFlash.preLoadGroup=null,__reflect(XFlash.prototype,"XFlash");var XLabel=function(t){function e(e,a,p){var n=t.call(this)||this;return n._destroyed=!1,n.text=p.text,n.multiline=!0,1==p.input&&(n.type=egret.TextFieldType.INPUT),n._destroyed=!1,n}return __extends(e,t),e.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.parent&&this.parent.removeChild(this))},e}(egret.TextField);__reflect(XLabel.prototype,"XLabel");var GameData=function(){function t(){}return t.getColor=function(){var t=XFlash.randInt(0,this.colorIDS.length-1),e=this.colorIDS[t];this.colorIDS.splice(t,1);var a=this.colors[e],p={idx:e,color:a};return p},t.getRobertName=function(){var t=XFlash.randInt(0,this.names.length-1),e=this.names[t];return this.names.splice(t,1),e},t.gameInit=function(){t.isPause=!1,t.starttime=egret.getTimer(),t.killed_other=0,t.timeoutArr=[],this.playpaths=[],this.playground=[],this.tileArr=[];for(var e=0;e<t.col;e++){t.playpaths[e]=[],t.playground[e]=[],this.tileArr[e]=[];for(var a=0;a<t.row;a++)t.playpaths[e][a]=null,t.playground[e][a]=null,this.tileArr[e][a]=null}t.mapWidth=t.gridSize*t.col,t.mapHeight=t.gridSize*t.row,this.colorIDS=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],this.colors=[16753314,9240525,16749289,12331717,11936876,4379259,2856791,12535338,16223760,15786568,7566317,3513832,23413,6552063,6827465],this.names=[],this.names.push("TheodoreShamrock"),this.names.push("education"),this.names.push("Mocha"),this.names.push("ZaraBipedal"),this.names.push("peas"),this.names.push("BudNormand"),this.names.push("provided"),this.names.push("SpotTense"),this.names.push("MeatyNut"),this.names.push("SugarWarn"),this.names.push("dome"),this.names.push("Bezequaci"),this.names.push("MariaKing"),this.names.push("DeirdreJones"),this.names.push("William"),this.names.push("ladder"),this.names.push("initial"),this.names.push("goggles"),this.names.push("NoirMelody"),this.names.push("CustardsStructure"),this.names.push("Chico"),this.names.push("langley"),this.names.push("OrdinateCrown"),this.names.push("StubbsHeadphones"),this.names.push("Armando"),this.names.push("mozart"),this.names.push("worcester"),this.names.push("LaveraLabrecque"),this.names.push("PappusWazzed"),this.names.push("Michael"),this.names.push("Owen"),this.names.push("Roxy"),this.names.push("methodist"),this.names.push("WarrenPeters"),this.names.push("ClumpUnhelpful"),this.names.push("JamesLambert"),this.names.push("alluring"),this.names.push("dartmoor"),this.names.push("FilterSpace"),this.newGme()},t.newGme=function(){t.playground[46][21]="p2",t.playground[46][22]="p2",t.playground[46][11]="p2",t.playground[46][12]="p2",t.playground[46][13]="p2",t.playground[46][14]="p2",t.playground[46][15]="p2",t.playground[46][16]="p2",t.playground[46][17]="p2",t.playground[46][18]="p2",t.playground[46][19]="p2",t.playground[46][20]="p2",t.playground[46][23]="p2",t.playground[46][24]="p2",t.playground[46][25]="p2",t.playground[46][26]="p2",t.playground[46][27]="p2",t.playground[46][7]="p2",t.playground[46][8]="p2",t.playground[46][9]="p2",t.playground[46][10]="p2",t.playground[46][0]="p2",t.playground[46][1]="p2",t.playground[46][2]="p2",t.playground[46][3]="p2",t.playground[46][4]="p2",t.playground[46][5]="p2",t.playground[46][6]="p2",t.playground[47][21]="p2",t.playground[47][22]="p2",t.playground[47][11]="p2",t.playground[47][12]="p2",t.playground[47][13]="p2",t.playground[47][14]="p2",t.playground[47][15]="p2",t.playground[47][16]="p2",t.playground[47][17]="p2",t.playground[47][18]="p2",t.playground[47][19]="p2",t.playground[47][20]="p2",t.playground[47][23]="p2",t.playground[47][24]="p2",t.playground[47][25]="p2",t.playground[47][26]="p2",t.playground[47][27]="p2",t.playground[47][7]="p2",t.playground[47][8]="p2",t.playground[47][9]="p2",t.playground[47][10]="p2",t.playground[47][0]="p2",t.playground[47][1]="p2",t.playground[47][2]="p2",t.playground[47][3]="p2",t.playground[47][4]="p2",t.playground[47][5]="p2",t.playground[47][6]="p2",t.playground[48][21]="p2",t.playground[48][22]="p2",t.playground[48][11]="p2",t.playground[48][12]="p2",t.playground[48][13]="p2",t.playground[48][14]="p2",t.playground[48][15]="p2",t.playground[48][16]="p2",t.playground[48][17]="p2",t.playground[48][18]="p2",t.playground[48][19]="p2",t.playground[48][20]="p2",t.playground[48][23]="p2",t.playground[48][24]="p2",t.playground[48][25]="p2",t.playground[48][26]="p2",t.playground[48][27]="p2",t.playground[48][7]="p2",t.playground[48][8]="p2",t.playground[48][9]="p2",t.playground[48][10]="p2",t.playground[48][0]="p2",t.playground[48][1]="p2",t.playground[48][2]="p2",t.playground[48][3]="p2",t.playground[48][4]="p2",t.playground[48][5]="p2",t.playground[48][6]="p2",t.playground[49][21]="p2",t.playground[49][22]="p2",t.playground[49][11]="p2",t.playground[49][12]="p2",t.playground[49][13]="p2",t.playground[49][14]="p2",t.playground[49][15]="p2",t.playground[49][16]="p2",t.playground[49][17]="p2",t.playground[49][18]="p2",t.playground[49][19]="p2",t.playground[49][20]="p2",t.playground[49][23]="p2",t.playground[49][24]="p2",t.playground[49][25]="p2",t.playground[49][26]="p2",t.playground[49][27]="p2",t.playground[49][7]="p2",t.playground[49][8]="p2",t.playground[49][9]="p2",t.playground[49][10]="p2",t.playground[49][0]="p2",t.playground[49][1]="p2",t.playground[49][2]="p2",t.playground[49][3]="p2",t.playground[49][4]="p2",t.playground[49][5]="p2",t.playground[49][6]="p2",t.playground[50][21]="p2",t.playground[50][22]="p2",t.playground[50][11]="p2",t.playground[50][12]="p2",t.playground[50][13]="p2",t.playground[50][14]="p2",t.playground[50][15]="p2",t.playground[50][16]="p2",t.playground[50][17]="p2",t.playground[50][18]="p2",t.playground[50][19]="p2",t.playground[50][20]="p2",t.playground[50][23]="p2",t.playground[50][24]="p2",t.playground[50][25]="p2",t.playground[50][26]="p2",t.playground[50][27]="p2",t.playground[50][7]="p2",t.playground[50][8]="p2",t.playground[50][9]="p2",t.playground[50][10]="p2",t.playground[50][0]="p2",t.playground[50][1]="p2",t.playground[50][2]="p2",t.playground[50][3]="p2",t.playground[50][4]="p2",t.playground[50][5]="p2",t.playground[50][6]="p2",t.playground[51][21]="p2",t.playground[51][22]="p2",t.playground[51][11]="p2",t.playground[51][12]="p2",t.playground[51][13]="p2",t.playground[51][14]="p2",t.playground[51][15]="p2",t.playground[51][16]="p2",t.playground[51][17]="p2",t.playground[51][18]="p2",t.playground[51][19]="p2",t.playground[51][20]="p2",t.playground[51][23]="p2",t.playground[51][24]="p2",t.playground[51][25]="p2",t.playground[51][26]="p2",t.playground[51][27]="p2",t.playground[51][7]="p2",t.playground[51][8]="p2",t.playground[51][9]="p2",t.playground[51][10]="p2",t.playground[51][2]="p2",t.playground[51][3]="p2",t.playground[51][4]="p2",t.playground[51][5]="p2",t.playground[51][6]="p2",t.playground[52][21]="p2",t.playground[52][22]="p2",t.playground[52][11]="p2",t.playground[52][12]="p2",t.playground[52][13]="p2",t.playground[52][14]="p2",t.playground[52][15]="p2",t.playground[52][16]="p2",t.playground[52][17]="p2",t.playground[52][18]="p2",t.playground[52][19]="p2",t.playground[52][20]="p2",t.playground[52][23]="p2",t.playground[52][24]="p2",t.playground[52][25]="p2",t.playground[52][26]="p2",t.playground[52][27]="p2",t.playground[52][7]="p2",t.playground[52][8]="p2",t.playground[52][9]="p2",t.playground[52][10]="p2",t.playground[52][2]="p2",t.playground[52][3]="p2",t.playground[52][4]="p2",t.playground[52][5]="p2",t.playground[52][6]="p2",t.playground[53][21]="p2",t.playground[53][22]="p2",t.playground[53][11]="p2",t.playground[53][12]="p2",t.playground[53][13]="p2",t.playground[53][14]="p2",t.playground[53][15]="p2",t.playground[53][16]="p2",t.playground[53][17]="p2",t.playground[53][18]="p2",t.playground[53][19]="p2",t.playground[53][20]="p2",t.playground[53][23]="p2",t.playground[53][24]="p2",t.playground[53][7]="p2",t.playground[53][8]="p2",t.playground[53][9]="p2",t.playground[53][10]="p2",t.playground[53][2]="p2",t.playground[53][3]="p2",t.playground[53][4]="p2",t.playground[53][5]="p2",t.playground[53][6]="p2",t.playground[54][21]="p2",t.playground[54][22]="p2",t.playground[54][11]="p2",t.playground[54][12]="p2",t.playground[54][13]="p2",t.playground[54][14]="p2",t.playground[54][15]="p2",t.playground[54][16]="p2",t.playground[54][17]="p2",t.playground[54][18]="p2",t.playground[54][19]="p2",t.playground[54][20]="p2",t.playground[54][23]="p2",t.playground[54][24]="p2",t.playground[54][7]="p2",t.playground[54][8]="p2",t.playground[54][9]="p2",t.playground[54][10]="p2",t.playground[54][2]="p2",t.playground[54][3]="p2",t.playground[54][4]="p2",t.playground[54][5]="p2",t.playground[54][6]="p2",t.playground[55][21]="p2",t.playground[55][22]="p2",t.playground[55][7]="p2",t.playground[55][8]="p2",t.playground[55][9]="p2",t.playground[55][10]="p2",t.playground[55][11]="p2",t.playground[55][12]="p2",t.playground[55][13]="p2",t.playground[55][14]="p2",t.playground[55][2]="p2",t.playground[55][3]="p2",t.playground[55][4]="p2",t.playground[55][5]="p2",t.playground[55][6]="p2",t.playground[56][21]="p2",t.playground[56][22]="p2",t.playground[56][7]="p2",t.playground[56][8]="p2",t.playground[56][9]="p2",t.playground[56][10]="p2",t.playground[56][11]="p2",t.playground[56][12]="p2",t.playground[56][13]="p2",t.playground[56][14]="p2",t.playground[56][2]="p2",t.playground[56][3]="p2",t.playground[56][4]="p2",t.playground[56][5]="p2",t.playground[56][6]="p2",t.playground[57][21]="p2",t.playground[57][22]="p2",t.playground[57][7]="p2",t.playground[57][8]="p2",t.playground[57][9]="p2",t.playground[57][10]="p2",t.playground[57][11]="p2",t.playground[57][12]="p2",t.playground[57][13]="p2",t.playground[57][14]="p2",t.playground[57][2]="p2",t.playground[57][3]="p2",t.playground[57][4]="p2",t.playground[57][5]="p2",t.playground[57][6]="p2",t.playground[58][7]="p2",t.playground[58][8]="p2",t.playground[58][9]="p2",t.playground[58][10]="p2",t.playground[58][11]="p2",t.playground[58][12]="p2",t.playground[58][13]="p2",t.playground[58][14]="p2",t.playground[58][2]="p2",t.playground[58][3]="p2",t.playground[58][4]="p2",t.playground[58][5]="p2",t.playground[58][6]="p2",t.playground[59][10]="p2",t.playground[59][11]="p2",t.playground[59][12]="p2",t.playground[59][2]="p2",t.playground[59][3]="p2",t.playground[59][4]="p2",t.playground[59][5]="p2",t.playground[59][6]="p2",t.playground[59][7]="p2",t.playground[59][8]="p2",t.playground[35][15]="p2",t.playground[35][16]="p2",t.playground[35][17]="p2",t.playground[36][15]="p2",t.playground[36][16]="p2",t.playground[36][17]="p2",t.playground[37][15]="p2",t.playground[37][16]="p2",t.playground[37][17]="p2",t.playground[38][15]="p2",t.playground[38][16]="p2",t.playground[38][17]="p2",t.playground[39][16]="p2",t.playground[39][17]="p2",t.playground[39][18]="p2",t.playground[39][19]="p2",t.playground[39][20]="p2",t.playground[39][21]="p2",t.playground[39][22]="p2",t.playground[39][23]="p2",t.playground[39][24]="p2",t.playground[39][25]="p2",t.playground[39][15]="p2",t.playground[40][11]="p2",t.playground[40][12]="p2",t.playground[40][13]="p2",t.playground[40][14]="p2",t.playground[40][15]="p2",t.playground[40][16]="p2",t.playground[40][17]="p2",t.playground[40][18]="p2",t.playground[40][19]="p2",t.playground[40][20]="p2",t.playground[40][21]="p2",t.playground[40][22]="p2",t.playground[40][23]="p2",t.playground[40][24]="p2",t.playground[40][25]="p2",t.playground[40][26]="p2",t.playground[40][27]="p2",t.playground[40][28]="p2",t.playground[40][29]="p2",t.playground[40][3]="p2",t.playground[40][4]="p2",t.playground[40][5]="p2",t.playground[40][6]="p2",t.playground[40][7]="p2",t.playground[40][8]="p2",t.playground[40][9]="p2",t.playground[40][10]="p2",t.playground[41][11]="p2",t.playground[41][12]="p2",t.playground[41][13]="p2",t.playground[41][14]="p2",t.playground[41][15]="p2",t.playground[41][16]="p2",t.playground[41][17]="p2",t.playground[41][18]="p2",t.playground[41][19]="p2",t.playground[41][20]="p2",t.playground[41][21]="p2",t.playground[41][22]="p2",t.playground[41][23]="p2",t.playground[41][24]="p2",t.playground[41][25]="p2",t.playground[41][26]="p2",t.playground[41][27]="p2",t.playground[41][28]="p2",t.playground[41][29]="p2",t.playground[41][3]="p2",t.playground[41][4]="p2",t.playground[41][5]="p2",t.playground[41][6]="p2",t.playground[41][7]="p2",t.playground[41][8]="p2",t.playground[41][9]="p2",t.playground[41][10]="p2",t.playground[42][11]="p2",t.playground[42][12]="p2",t.playground[42][13]="p2",t.playground[42][14]="p2",t.playground[42][15]="p2",t.playground[42][16]="p2",t.playground[42][17]="p2",t.playground[42][18]="p2",t.playground[42][19]="p2",t.playground[42][20]="p2",t.playground[42][21]="p2",t.playground[42][22]="p2",t.playground[42][23]="p2",t.playground[42][24]="p2",t.playground[42][25]="p2",t.playground[42][26]="p2",t.playground[42][27]="p2",t.playground[42][28]="p2",t.playground[42][29]="p2",t.playground[42][3]="p2",t.playground[42][4]="p2",t.playground[42][5]="p2",t.playground[42][6]="p2",t.playground[42][7]="p2",t.playground[42][8]="p2",t.playground[42][9]="p2",t.playground[42][10]="p2",t.playground[42][0]="p2",t.playground[42][1]="p2",t.playground[42][2]="p2",t.playground[43][11]="p2",t.playground[43][12]="p2",t.playground[43][13]="p2",t.playground[43][14]="p2",t.playground[43][15]="p2",t.playground[43][16]="p2",t.playground[43][17]="p2",t.playground[43][18]="p2",t.playground[43][19]="p2",t.playground[43][20]="p2",t.playground[43][21]="p2",t.playground[43][22]="p2",t.playground[43][23]="p2",t.playground[43][24]="p2",t.playground[43][25]="p2",t.playground[43][26]="p2",t.playground[43][27]="p2",t.playground[43][28]="p2",t.playground[43][29]="p2",t.playground[43][0]="p2",t.playground[43][1]="p2",t.playground[43][2]="p2",t.playground[44][11]="p2",t.playground[44][12]="p2",t.playground[44][13]="p2",t.playground[44][14]="p2",t.playground[44][15]="p2",t.playground[44][16]="p2",t.playground[44][17]="p2",t.playground[44][18]="p2",t.playground[44][19]="p2",t.playground[44][20]="p2",t.playground[44][21]="p2",t.playground[44][22]="p2",t.playground[44][23]="p2",t.playground[44][24]="p2",t.playground[44][25]="p2",t.playground[44][26]="p2",t.playground[44][27]="p2",t.playground[44][7]="p2",t.playground[44][8]="p2",t.playground[44][9]="p2",t.playground[44][10]="p2",t.playground[44][0]="p2",t.playground[44][1]="p2",t.playground[44][2]="p2",t.playground[45][11]="p2",t.playground[45][12]="p2",t.playground[45][13]="p2",t.playground[45][14]="p2",t.playground[45][15]="p2",t.playground[45][16]="p2",t.playground[45][17]="p2",t.playground[45][18]="p2",t.playground[45][19]="p2",t.playground[45][20]="p2",t.playground[45][21]="p2",t.playground[45][22]="p2",t.playground[45][23]="p2",t.playground[45][24]="p2",t.playground[45][25]="p2",t.playground[45][26]="p2",t.playground[45][27]="p2",t.playground[45][7]="p2",t.playground[45][8]="p2",t.playground[45][9]="p2",t.playground[45][10]="p2",t.playground[45][0]="p2",t.playground[45][1]="p2",t.playground[45][2]="p2",t.playground[45][3]="p2",t.playground[45][4]="p2",t.playground[45][5]="p2",t.playground[45][6]="p2",t.playground[34][15]="p2",t.playground[34][16]="p2",t.playground[34][17]="p2",t.playground[46][41]="p3",t.playground[46][42]="p3",t.playground[46][43]="p3",t.playground[46][38]="p3",t.playground[46][39]="p3",t.playground[46][40]="p3",t.playground[46][44]="p3",t.playground[46][45]="p3",t.playground[46][37]="p3",t.playground[47][41]="p3",t.playground[47][42]="p3",t.playground[47][43]="p3",t.playground[47][38]="p3",t.playground[47][39]="p3",t.playground[47][40]="p3",t.playground[47][44]="p3",t.playground[47][45]="p3",t.playground[47][37]="p3",t.playground[48][37]="p3",t.playground[48][38]="p3",t.playground[48][39]="p3",t.playground[48][40]="p3",t.playground[48][41]="p3",t.playground[48][42]="p3",t.playground[48][43]="p3",t.playground[48][44]="p3",t.playground[48][45]="p3",t.playground[49][37]="p3",t.playground[49][38]="p3",t.playground[49][39]="p3",t.playground[49][40]="p3",t.playground[49][41]="p3",t.playground[49][42]="p3",t.playground[49][43]="p3",t.playground[49][44]="p3",t.playground[49][45]="p3",t.playground[50][37]="p3",t.playground[50][38]="p3",t.playground[50][39]="p3",t.playground[50][40]="p3",t.playground[50][41]="p3",t.playground[50][42]="p3",t.playground[50][43]="p3",t.playground[50][44]="p3",t.playground[50][45]="p3",t.playground[51][37]="p3",t.playground[51][38]="p3",t.playground[51][39]="p3",t.playground[51][40]="p3",t.playground[51][41]="p3",t.playground[51][42]="p3",t.playground[51][43]="p3",t.playground[51][44]="p3",t.playground[51][45]="p3",t.playground[52][37]="p3",t.playground[52][38]="p3",t.playground[52][39]="p3",t.playground[52][40]="p3",t.playground[52][41]="p3",t.playground[52][42]="p3",t.playground[52][43]="p3",t.playground[52][44]="p3",t.playground[52][45]="p3",t.playground[52][33]="p3",t.playground[52][34]="p3",t.playground[52][35]="p3",t.playground[52][36]="p3",t.playground[53][37]="p3",t.playground[53][38]="p3",t.playground[53][39]="p3",t.playground[53][40]="p3",t.playground[53][41]="p3",t.playground[53][42]="p3",t.playground[53][43]="p3",t.playground[53][44]="p3",t.playground[53][45]="p3",t.playground[53][25]="p3",t.playground[53][26]="p3",t.playground[53][27]="p3",t.playground[53][33]="p3",t.playground[53][34]="p3",t.playground[53][35]="p3",t.playground[53][36]="p3",t.playground[53][28]="p3",t.playground[53][29]="p3",t.playground[53][30]="p3",t.playground[53][31]="p3",t.playground[53][32]="p3",t.playground[54][37]="p3",t.playground[54][38]="p3",t.playground[54][39]="p3",t.playground[54][40]="p3",t.playground[54][41]="p3",t.playground[54][42]="p3",t.playground[54][43]="p3",t.playground[54][44]="p3",t.playground[54][45]="p3",t.playground[54][25]="p3",t.playground[54][26]="p3",t.playground[54][27]="p3",t.playground[54][33]="p3",t.playground[54][34]="p3",t.playground[54][35]="p3",t.playground[54][36]="p3",t.playground[54][28]="p3",t.playground[54][29]="p3",t.playground[54][30]="p3",t.playground[54][31]="p3",t.playground[54][32]="p3",t.playground[55][37]="p3",t.playground[55][38]="p3",t.playground[55][39]="p3",t.playground[55][40]="p3",t.playground[55][41]="p3",t.playground[55][42]="p3",t.playground[55][43]="p3",t.playground[55][44]="p3",t.playground[55][45]="p3",t.playground[55][25]="p3",t.playground[55][26]="p3",t.playground[55][27]="p3",t.playground[55][28]="p3",t.playground[55][29]="p3",t.playground[55][30]="p3",t.playground[55][31]="p3",t.playground[55][32]="p3",t.playground[55][34]="p3",t.playground[55][35]="p3",t.playground[55][36]="p3",t.playground[55][33]="p3",t.playground[56][37]="p3",t.playground[56][38]="p3",t.playground[56][39]="p3",t.playground[56][40]="p3",t.playground[56][41]="p3",t.playground[56][42]="p3",t.playground[56][43]="p3",t.playground[56][44]="p3",t.playground[56][45]="p3",t.playground[56][34]="p3",t.playground[56][35]="p3",t.playground[56][36]="p3",t.playground[56][28]="p3",t.playground[56][29]="p3",t.playground[56][30]="p3",t.playground[56][31]="p3",t.playground[56][32]="p3",t.playground[56][33]="p3",t.playground[57][37]="p3",t.playground[57][38]="p3",t.playground[57][39]="p3",t.playground[57][40]="p3",t.playground[57][41]="p3",t.playground[57][42]="p3",t.playground[57][43]="p3",t.playground[57][44]="p3",t.playground[57][45]="p3",t.playground[57][34]="p3",t.playground[57][35]="p3",t.playground[57][36]="p3",t.playground[58][37]="p3",t.playground[58][38]="p3",t.playground[58][39]="p3",t.playground[58][40]="p3",t.playground[58][41]="p3",t.playground[58][42]="p3",t.playground[58][43]="p3",t.playground[58][44]="p3",t.playground[58][45]="p3",t.playground[58][34]="p3",t.playground[58][35]="p3",t.playground[58][36]="p3",t.playground[59][37]="p3",t.playground[59][38]="p3",t.playground[59][39]="p3",t.playground[59][40]="p3",t.playground[59][41]="p3",t.playground[59][42]="p3",t.playground[59][43]="p3",t.playground[59][44]="p3",t.playground[59][45]="p3",t.playground[59][34]="p3",t.playground[59][35]="p3",t.playground[59][36]="p3",t.playground[60][37]="p3",t.playground[60][38]="p3",t.playground[60][39]="p3",t.playground[60][40]="p3",t.playground[60][41]="p3",t.playground[60][42]="p3",t.playground[60][43]="p3",t.playground[60][44]="p3",t.playground[60][45]="p3",t.playground[60][46]="p3",t.playground[60][34]="p3",t.playground[60][35]="p3",t.playground[60][36]="p3",t.playground[61][37]="p3",t.playground[61][38]="p3",t.playground[61][39]="p3",t.playground[61][40]="p3",t.playground[61][41]="p3",t.playground[61][42]="p3",t.playground[61][43]="p3",t.playground[61][44]="p3",t.playground[61][45]="p3",t.playground[61][46]="p3",t.playground[61][34]="p3",t.playground[61][35]="p3",t.playground[61][36]="p3",t.playground[62][37]="p3",t.playground[62][38]="p3",t.playground[62][39]="p3",t.playground[62][40]="p3",t.playground[62][41]="p3",t.playground[62][42]="p3",t.playground[62][43]="p3",t.playground[62][44]="p3",t.playground[62][34]="p3",t.playground[62][35]="p3",t.playground[62][36]="p3",t.playground[63][37]="p3",t.playground[63][38]="p3",t.playground[63][39]="p3",t.playground[63][40]="p3",t.playground[63][41]="p3",t.playground[63][42]="p3",t.playground[63][43]="p3",t.playground[63][44]="p3",t.playground[64][37]="p3",t.playground[64][38]="p3",t.playground[64][39]="p3",t.playground[64][40]="p3",t.playground[64][41]="p3",t.playground[44][41]="p3",t.playground[44][42]="p3",t.playground[44][43]="p3",t.playground[44][44]="p3",t.playground[44][37]="p3",t.playground[44][38]="p3",t.playground[44][39]="p3",t.playground[44][40]="p3",t.playground[45][41]="p3",t.playground[45][42]="p3",t.playground[45][43]="p3",t.playground[45][44]="p3",t.playground[45][45]="p3",t.playground[45][38]="p3",t.playground[45][39]="p3",t.playground[45][40]="p3",t.playground[45][37]="p3",t.playground[31][36]="p4",t.playground[31][37]="p4",t.playground[31][38]="p4",t.playground[31][39]="p4",t.playground[31][41]="p4",t.playground[31][42]="p4",t.playground[31][43]="p4",t.playground[31][44]="p4",t.playground[31][45]="p4",t.playground[31][46]="p4",t.playground[31][47]="p4",t.playground[31][33]="p4",t.playground[31][34]="p4",t.playground[31][35]="p4",t.playground[31][40]="p4",t.playground[32][36]="p4",t.playground[32][37]="p4",t.playground[32][38]="p4",t.playground[32][39]="p4",t.playground[32][41]="p4",t.playground[32][42]="p4",t.playground[32][43]="p4",t.playground[32][44]="p4",t.playground[32][45]="p4",t.playground[32][46]="p4",t.playground[32][47]="p4",t.playground[32][33]="p4",t.playground[32][34]="p4",t.playground[32][35]="p4",t.playground[32][40]="p4",t.playground[33][36]="p4",t.playground[33][37]="p4",t.playground[33][38]="p4",t.playground[33][39]="p4",t.playground[33][41]="p4",t.playground[33][42]="p4",t.playground[33][43]="p4",t.playground[33][44]="p4",t.playground[33][45]="p4",t.playground[33][46]="p4",t.playground[33][47]="p4",t.playground[33][33]="p4",t.playground[33][34]="p4",t.playground[33][35]="p4",t.playground[33][40]="p4",t.playground[33][30]="p4",t.playground[33][31]="p4",t.playground[33][32]="p4",t.playground[34][36]="p4",t.playground[34][37]="p4",t.playground[34][38]="p4",t.playground[34][39]="p4",t.playground[34][41]="p4",t.playground[34][42]="p4",t.playground[34][43]="p4",t.playground[34][44]="p4",t.playground[34][45]="p4",t.playground[34][46]="p4",t.playground[34][47]="p4",t.playground[34][33]="p4",t.playground[34][34]="p4",t.playground[34][35]="p4",t.playground[34][40]="p4",t.playground[34][30]="p4",t.playground[34][31]="p4",t.playground[34][32]="p4",t.playground[28][33]="p4",t.playground[28][34]="p4",t.playground[28][35]="p4",t.playground[28][36]="p4",t.playground[28][37]="p4",t.playground[28][38]="p4",t.playground[28][39]="p4",t.playground[28][40]="p4",t.playground[28][41]="p4",t.playground[28][42]="p4",t.playground[28][43]="p4",t.playground[28][44]="p4",t.playground[28][45]="p4",t.playground[28][46]="p4",t.playground[29][33]="p4",t.playground[29][34]="p4",t.playground[29][35]="p4",t.playground[29][36]="p4",t.playground[29][37]="p4",t.playground[29][38]="p4",t.playground[29][39]="p4",t.playground[29][40]="p4",t.playground[29][41]="p4",t.playground[29][42]="p4",t.playground[29][43]="p4",t.playground[29][44]="p4",t.playground[29][45]="p4",t.playground[29][46]="p4",t.playground[30][33]="p4",t.playground[30][34]="p4",t.playground[30][35]="p4",t.playground[30][36]="p4",t.playground[30][37]="p4",t.playground[30][38]="p4",t.playground[30][39]="p4",t.playground[30][40]="p4",t.playground[30][41]="p4",t.playground[30][42]="p4",t.playground[30][43]="p4",t.playground[30][44]="p4",t.playground[30][45]="p4",t.playground[30][46]="p4",t.playground[24][38]="p4",t.playground[24][39]="p4",t.playground[24][40]="p4",t.playground[24][41]="p4",t.playground[24][42]="p4",t.playground[24][43]="p4",t.playground[24][44]="p4",t.playground[24][45]="p4",t.playground[25][38]="p4",t.playground[25][39]="p4",t.playground[25][40]="p4",t.playground[25][41]="p4",t.playground[25][42]="p4",t.playground[25][43]="p4",t.playground[25][44]="p4",t.playground[25][45]="p4",t.playground[26][38]="p4",t.playground[26][39]="p4",t.playground[26][40]="p4",t.playground[26][41]="p4",t.playground[26][42]="p4",t.playground[26][43]="p4",t.playground[26][44]="p4",t.playground[26][45]="p4",t.playground[27][38]="p4",t.playground[27][39]="p4",t.playground[27][40]="p4",t.playground[27][41]="p4",t.playground[27][42]="p4",t.playground[27][43]="p4",t.playground[27][44]="p4",t.playground[27][45]="p4",t.playground[35][36]="p4",t.playground[35][37]="p4",t.playground[35][38]="p4",t.playground[35][39]="p4",t.playground[35][40]="p4",t.playground[35][41]="p4",t.playground[35][42]="p4",t.playground[35][43]="p4",t.playground[35][44]="p4",t.playground[35][45]="p4",t.playground[35][46]="p4",t.playground[35][47]="p4",t.playground[35][33]="p4",t.playground[35][34]="p4",t.playground[35][35]="p4",t.playground[35][30]="p4",t.playground[35][31]="p4",t.playground[35][32]="p4",t.playground[36][36]="p4",t.playground[36][37]="p4",t.playground[36][38]="p4",t.playground[36][39]="p4",t.playground[36][40]="p4",t.playground[36][41]="p4",t.playground[36][42]="p4",t.playground[36][43]="p4",t.playground[36][44]="p4",t.playground[36][45]="p4",t.playground[36][46]="p4",t.playground[36][47]="p4",t.playground[36][33]="p4",t.playground[36][34]="p4",t.playground[36][35]="p4",t.playground[36][30]="p4",t.playground[36][31]="p4",t.playground[36][32]="p4",t.playground[37][36]="p4",t.playground[37][37]="p4",t.playground[37][38]="p4",t.playground[37][39]="p4",t.playground[37][40]="p4",t.playground[37][41]="p4",t.playground[37][42]="p4",t.playground[37][43]="p4",t.playground[37][44]="p4",t.playground[37][45]="p4",t.playground[37][46]="p4",t.playground[37][47]="p4",t.playground[37][33]="p4",t.playground[37][34]="p4",t.playground[37][35]="p4",t.playground[37][30]="p4",t.playground[37][31]="p4",t.playground[37][32]="p4",t.playground[38][36]="p4",t.playground[38][37]="p4",t.playground[38][38]="p4",t.playground[38][39]="p4",t.playground[38][40]="p4",t.playground[38][41]="p4",t.playground[38][42]="p4",t.playground[38][43]="p4",t.playground[38][44]="p4",t.playground[38][45]="p4",t.playground[38][46]="p4",t.playground[38][47]="p4",t.playground[38][33]="p4",t.playground[38][34]="p4",t.playground[38][35]="p4",t.playground[38][30]="p4",t.playground[38][31]="p4",t.playground[38][32]="p4",t.playground[39][36]="p4",t.playground[39][37]="p4",t.playground[39][38]="p4",t.playground[39][39]="p4",t.playground[39][40]="p4",t.playground[39][41]="p4",t.playground[39][42]="p4",t.playground[39][43]="p4",t.playground[39][44]="p4",t.playground[39][45]="p4",t.playground[39][46]="p4",t.playground[39][47]="p4",t.playground[39][33]="p4",t.playground[39][34]="p4",t.playground[39][35]="p4",t.playground[39][30]="p4",t.playground[39][31]="p4",t.playground[39][32]="p4",t.playground[40][36]="p4",t.playground[40][37]="p4",t.playground[40][38]="p4",t.playground[40][39]="p4",t.playground[40][40]="p4",t.playground[40][41]="p4",t.playground[40][42]="p4",t.playground[40][43]="p4",t.playground[40][44]="p4",t.playground[40][45]="p4",t.playground[40][46]="p4",t.playground[40][47]="p4",t.playground[40][33]="p4",t.playground[40][34]="p4",t.playground[40][35]="p4",t.playground[40][30]="p4",t.playground[40][31]="p4",t.playground[40][32]="p4",t.playground[41][36]="p4",t.playground[41][37]="p4",t.playground[41][38]="p4",t.playground[41][39]="p4",t.playground[41][40]="p4",t.playground[41][41]="p4",t.playground[41][42]="p4",t.playground[41][43]="p4",t.playground[41][44]="p4",t.playground[41][45]="p4",t.playground[41][46]="p4",t.playground[41][47]="p4",t.playground[41][33]="p4",t.playground[41][34]="p4",t.playground[41][35]="p4",t.playground[41][30]="p4",t.playground[41][31]="p4",t.playground[41][32]="p4",t.playground[23][38]="p4",t.playground[23][39]="p4",t.playground[23][40]="p4",t.playground[23][41]="p4",t.playground[23][42]="p4",t.playground[23][43]="p4",t.playground[23][44]="p4",t.playground[23][45]="p4",t.playground[42][41]="p4",t.playground[42][42]="p4",t.playground[42][43]="p4",t.playground[42][44]="p4",t.playground[42][45]="p4",t.playground[42][46]="p4",t.playground[42][47]="p4",t.playground[42][38]="p4",t.playground[42][39]="p4",t.playground[42][40]="p4",t.playground[43][41]="p4",t.playground[43][42]="p4",t.playground[43][43]="p4",t.playground[43][44]="p4",t.playground[43][45]="p4",t.playground[43][46]="p4",t.playground[43][47]="p4",t.playground[44][45]="p4",t.playground[44][46]="p4",t.playground[44][47]="p4",t.playground[45][46]="p4",t.playground[45][47]="p4",t.playground[6][33]="p9",t.playground[6][34]="p9",t.playground[6][35]="p9",t.playground[6][36]="p9",t.playground[6][37]="p9",t.playground[6][38]="p9",t.playground[6][39]="p9",t.playground[6][41]="p9",t.playground[6][42]="p9",t.playground[6][43]="p9",t.playground[6][44]="p9",t.playground[6][45]="p9",t.playground[6][46]="p9",t.playground[6][47]="p9",t.playground[6][48]="p9",t.playground[6][49]="p9",t.playground[6][50]="p9",t.playground[6][51]="p9",t.playground[6][52]="p9",t.playground[6][53]="p9",t.playground[6][54]="p9",t.playground[6][55]="p9",t.playground[6][56]="p9",t.playground[6][57]="p9",t.playground[6][58]="p9",t.playground[6][32]="p9",t.playground[6][40]="p9",t.playground[6][26]="p9",t.playground[6][27]="p9",t.playground[6][28]="p9",t.playground[6][29]="p9",t.playground[6][30]="p9",t.playground[6][31]="p9",t.playground[7][33]="p9",t.playground[7][34]="p9",t.playground[7][35]="p9",t.playground[7][36]="p9",t.playground[7][37]="p9",t.playground[7][38]="p9",t.playground[7][39]="p9",t.playground[7][40]="p9",t.playground[7][41]="p9",t.playground[7][42]="p9",t.playground[7][43]="p9",t.playground[7][44]="p9",t.playground[7][45]="p9",t.playground[7][46]="p9",t.playground[7][47]="p9",t.playground[7][48]="p9",t.playground[7][49]="p9",t.playground[7][50]="p9",t.playground[7][51]="p9",t.playground[7][52]="p9",t.playground[7][53]="p9",t.playground[7][54]="p9",t.playground[7][55]="p9",t.playground[7][56]="p9",t.playground[7][57]="p9",t.playground[7][58]="p9",t.playground[7][32]="p9",t.playground[7][26]="p9",t.playground[7][27]="p9",t.playground[7][28]="p9",t.playground[7][29]="p9",t.playground[7][30]="p9",t.playground[7][31]="p9",t.playground[8][33]="p9",t.playground[8][34]="p9",t.playground[8][35]="p9",t.playground[8][36]="p9",t.playground[8][37]="p9",t.playground[8][38]="p9",t.playground[8][39]="p9",t.playground[8][40]="p9",t.playground[8][41]="p9",t.playground[8][42]="p9",t.playground[8][43]="p9",t.playground[8][44]="p9",t.playground[8][45]="p9",t.playground[8][46]="p9",t.playground[8][47]="p9",t.playground[8][48]="p9",t.playground[8][49]="p9",t.playground[8][50]="p9",t.playground[8][51]="p9",t.playground[8][52]="p9",t.playground[8][53]="p9",t.playground[8][54]="p9",t.playground[8][55]="p9",t.playground[8][56]="p9",t.playground[8][57]="p9",t.playground[8][58]="p9",t.playground[8][32]="p9",t.playground[8][26]="p9",t.playground[8][27]="p9",t.playground[8][28]="p9",t.playground[8][29]="p9",t.playground[8][30]="p9",t.playground[8][31]="p9",t.playground[9][33]="p9",t.playground[9][34]="p9",t.playground[9][35]="p9",t.playground[9][36]="p9",t.playground[9][37]="p9",t.playground[9][38]="p9",t.playground[9][39]="p9",t.playground[9][40]="p9",t.playground[9][41]="p9",t.playground[9][42]="p9",t.playground[9][43]="p9",t.playground[9][44]="p9",t.playground[9][45]="p9",t.playground[9][46]="p9",t.playground[9][47]="p9",t.playground[9][48]="p9",t.playground[9][49]="p9",t.playground[9][26]="p9",t.playground[9][27]="p9",t.playground[9][28]="p9",t.playground[9][29]="p9",t.playground[9][30]="p9",t.playground[9][31]="p9",t.playground[9][32]="p9",t.playground[10][33]="p9",t.playground[10][34]="p9",t.playground[10][35]="p9",t.playground[10][36]="p9",t.playground[10][37]="p9",t.playground[10][38]="p9",t.playground[10][39]="p9",t.playground[10][40]="p9",t.playground[10][41]="p9",t.playground[10][42]="p9",t.playground[10][43]="p9",t.playground[10][44]="p9",t.playground[10][45]="p9",t.playground[10][46]="p9",t.playground[10][47]="p9",t.playground[10][48]="p9",t.playground[10][49]="p9",t.playground[10][26]="p9",t.playground[10][27]="p9",t.playground[10][28]="p9",t.playground[10][29]="p9",t.playground[10][30]="p9",t.playground[10][31]="p9",t.playground[10][32]="p9",t.playground[11][38]="p9",t.playground[11][39]="p9",t.playground[11][40]="p9",t.playground[11][41]="p9",t.playground[11][42]="p9",t.playground[11][43]="p9",t.playground[11][44]="p9",t.playground[11][45]="p9",t.playground[11][46]="p9",t.playground[11][47]="p9",t.playground[11][48]="p9",t.playground[11][49]="p9",t.playground[11][35]="p9",t.playground[11][36]="p9",t.playground[11][37]="p9",t.playground[11][32]="p9",t.playground[11][33]="p9",t.playground[11][34]="p9",t.playground[12][38]="p9",t.playground[12][39]="p9",t.playground[12][40]="p9",t.playground[12][41]="p9",t.playground[12][42]="p9",t.playground[12][43]="p9",t.playground[12][44]="p9",t.playground[12][45]="p9",t.playground[12][46]="p9",t.playground[12][47]="p9",t.playground[12][48]="p9",t.playground[12][49]="p9",t.playground[12][35]="p9",t.playground[12][36]="p9",t.playground[12][37]="p9",t.playground[12][32]="p9",t.playground[12][33]="p9",t.playground[12][34]="p9",t.playground[13][38]="p9",t.playground[13][39]="p9",t.playground[13][40]="p9",t.playground[13][41]="p9",t.playground[13][42]="p9",t.playground[13][43]="p9",t.playground[13][44]="p9",t.playground[13][45]="p9",t.playground[13][46]="p9",t.playground[13][47]="p9",t.playground[13][48]="p9",t.playground[13][49]="p9",t.playground[13][35]="p9",t.playground[13][36]="p9",t.playground[13][37]="p9",t.playground[13][32]="p9",t.playground[13][33]="p9",t.playground[13][34]="p9",t.playground[14][38]="p9",t.playground[14][39]="p9",t.playground[14][40]="p9",t.playground[14][41]="p9",t.playground[14][42]="p9",t.playground[14][43]="p9",t.playground[14][44]="p9",t.playground[14][45]="p9",t.playground[14][46]="p9",t.playground[14][47]="p9",t.playground[14][48]="p9",t.playground[14][49]="p9",t.playground[14][35]="p9",t.playground[14][36]="p9",t.playground[14][37]="p9",t.playground[14][32]="p9",t.playground[14][33]="p9",t.playground[14][34]="p9",t.playground[15][38]="p9",t.playground[15][39]="p9",t.playground[15][40]="p9",t.playground[15][41]="p9",t.playground[15][42]="p9",t.playground[15][43]="p9",t.playground[15][44]="p9",t.playground[15][45]="p9",t.playground[15][46]="p9",t.playground[15][47]="p9",t.playground[15][48]="p9",t.playground[15][49]="p9",t.playground[15][35]="p9",t.playground[15][36]="p9",t.playground[15][37]="p9",t.playground[15][32]="p9",t.playground[15][33]="p9",t.playground[15][34]="p9",t.playground[16][38]="p9",t.playground[16][39]="p9",t.playground[16][40]="p9",t.playground[16][41]="p9",t.playground[16][42]="p9",t.playground[16][43]="p9",t.playground[16][44]="p9",t.playground[16][45]="p9",t.playground[16][46]="p9",t.playground[16][47]="p9",t.playground[16][48]="p9",t.playground[16][49]="p9",t.playground[16][35]="p9",t.playground[16][36]="p9",t.playground[16][37]="p9",t.playground[17][38]="p9",t.playground[17][39]="p9",t.playground[17][40]="p9",t.playground[17][41]="p9",t.playground[17][42]="p9",t.playground[17][43]="p9",t.playground[17][44]="p9",t.playground[17][45]="p9",t.playground[17][46]="p9",t.playground[17][47]="p9",t.playground[17][48]="p9",t.playground[17][49]="p9",t.playground[17][35]="p9",t.playground[17][36]="p9",t.playground[17][37]="p9",t.playground[18][38]="p9",t.playground[18][39]="p9",t.playground[18][40]="p9",t.playground[18][41]="p9",t.playground[18][42]="p9",t.playground[18][43]="p9",t.playground[18][44]="p9",t.playground[18][45]="p9",t.playground[18][46]="p9",t.playground[18][47]="p9",t.playground[18][48]="p9",t.playground[18][49]="p9",t.playground[18][35]="p9",t.playground[18][36]="p9",t.playground[18][37]="p9",t.playground[19][38]="p9",t.playground[19][39]="p9",t.playground[19][40]="p9",t.playground[19][41]="p9",t.playground[19][42]="p9",t.playground[19][43]="p9",t.playground[19][44]="p9",t.playground[19][45]="p9",t.playground[19][46]="p9",t.playground[19][47]="p9",t.playground[19][48]="p9",t.playground[19][49]="p9",t.playground[20][38]="p9",t.playground[20][39]="p9",t.playground[20][40]="p9",t.playground[20][41]="p9",t.playground[20][42]="p9",t.playground[20][43]="p9",t.playground[20][44]="p9",t.playground[20][45]="p9",t.playground[20][46]="p9",t.playground[20][47]="p9",t.playground[20][48]="p9",t.playground[20][49]="p9",t.playground[21][38]="p9",t.playground[21][39]="p9",t.playground[21][40]="p9",t.playground[21][41]="p9",t.playground[21][42]="p9",t.playground[21][43]="p9",t.playground[21][44]="p9",t.playground[21][45]="p9",t.playground[21][46]="p9",t.playground[21][47]="p9",t.playground[21][48]="p9",t.playground[21][49]="p9",t.playground[22][38]="p9",t.playground[22][39]="p9",t.playground[22][40]="p9",t.playground[22][41]="p9",t.playground[22][42]="p9",t.playground[22][43]="p9",t.playground[22][44]="p9",t.playground[22][45]="p9",t.playground[22][46]="p9",t.playground[22][47]="p9",t.playground[22][48]="p9",t.playground[22][49]="p9",t.playground[23][46]="p9",t.playground[23][47]="p9",t.playground[23][48]="p9",t.playground[23][49]="p9",t.playground[4][41]="p9",t.playground[4][42]="p9",t.playground[4][43]="p9",t.playground[4][44]="p9",t.playground[4][45]="p9",t.playground[4][46]="p9",t.playground[4][47]="p9",t.playground[4][48]="p9",t.playground[4][49]="p9",t.playground[4][50]="p9",t.playground[4][51]="p9",t.playground[4][52]="p9",t.playground[4][53]="p9",t.playground[4][54]="p9",t.playground[4][55]="p9",t.playground[4][56]="p9",t.playground[4][57]="p9",t.playground[4][58]="p9",t.playground[4][32]="p9",t.playground[4][33]="p9",t.playground[4][34]="p9",t.playground[4][35]="p9",t.playground[4][36]="p9",t.playground[4][37]="p9",t.playground[4][38]="p9",t.playground[4][39]="p9",t.playground[4][40]="p9",t.playground[5][41]="p9",t.playground[5][42]="p9",t.playground[5][43]="p9",t.playground[5][44]="p9",t.playground[5][45]="p9",t.playground[5][46]="p9",t.playground[5][47]="p9",t.playground[5][48]="p9",t.playground[5][49]="p9",t.playground[5][50]="p9",t.playground[5][51]="p9",t.playground[5][52]="p9",t.playground[5][53]="p9",t.playground[5][54]="p9",t.playground[5][55]="p9",t.playground[5][56]="p9",t.playground[5][57]="p9",t.playground[5][58]="p9",t.playground[5][32]="p9",t.playground[5][33]="p9",t.playground[5][34]="p9",t.playground[5][35]="p9",t.playground[5][36]="p9",t.playground[5][37]="p9",t.playground[5][38]="p9",t.playground[5][39]="p9",t.playground[5][40]="p9",t.playground[1][32]="p9",t.playground[1][33]="p9",t.playground[1][34]="p9",t.playground[1][35]="p9",t.playground[1][36]="p9",t.playground[1][37]="p9",t.playground[1][38]="p9",t.playground[1][39]="p9",t.playground[1][40]="p9",t.playground[1][41]="p9",t.playground[1][42]="p9",t.playground[1][43]="p9",t.playground[2][32]="p9",t.playground[2][33]="p9",t.playground[2][34]="p9",t.playground[2][35]="p9",t.playground[2][36]="p9",t.playground[2][37]="p9",t.playground[2][38]="p9",t.playground[2][39]="p9",t.playground[2][40]="p9",t.playground[2][41]="p9",t.playground[2][42]="p9",t.playground[2][43]="p9",t.playground[3][32]="p9",t.playground[3][33]="p9",t.playground[3][34]="p9",t.playground[3][35]="p9",t.playground[3][36]="p9",t.playground[3][37]="p9",t.playground[3][38]="p9",t.playground[3][39]="p9",t.playground[3][40]="p9",t.playground[3][41]="p9",t.playground[3][42]="p9",t.playground[3][43]="p9",t.playground[0][40]="p9",t.playground[0][41]="p9",t.playground[0][42]="p9",t.playground[0][43]="p9",t.playground[0][34]="p9",t.playground[0][35]="p9",t.playground[0][36]="p9",t.playground[0][37]="p9",t.playground[0][38]="p9"
},t.getUID=function(){return 0==this.players.length?-1:this.players.pop()},t.gameReplay=function(){this.killed_other=0,this.colorID=XFlash.randInt(0,this.colors.length-1),this.playerID=XFlash.randInt(0,this.players.length-1),this.nameid=XFlash.randInt(0,this.names.length-1)},t.pixelToTileX=function(e){return Math.floor(e/t.gridSize)},t.pixelToTileY=function(e){return Math.floor(e/t.gridSize)},t.tileToPixelCoords=function(e,a){return new egret.Point(e*t.gridSize,a*t.gridSize)},t.pixelToTileCoords=function(t,e){return new egret.Point(this.pixelToTileX(t),this.pixelToTileY(e))},t.loadStorage=function(){var e=egret.localStorage.getItem(App.nameid);e?(t.localData=JSON.parse(e),t.heroName=t.localData.name,t.maxScore=t.localData.maxScore):(t.localData={},t.localData.name="",t.localData.maxScore=0)},t.saveStorage=function(){t.heroName.length>0&&"Your Name"!=t.heroName?t.localData.name=t.heroName:t.localData.name="",t.localData.maxScore=t.maxScore;var e=JSON.stringify(t.localData);egret.localStorage.setItem(App.nameid,e)},t}();GameData.standWidth=800,GameData.standHeight=600,GameData.gridSize=30,GameData.row=65,GameData.col=65,GameData.mapWidth=0,GameData.mapHeight=0,GameData.heroScore=0,GameData.maxScore=0,GameData.timePlayed=0,GameData.starttime=0,GameData.heroName="",GameData.names=[],GameData.nameid=0,GameData.stageNames=[],GameData.playground=[],GameData.playpaths=[],GameData.killed_other=0,GameData.isPause=!0,GameData.game_timer=0,GameData.colors=[16753314,9240525,16749289,12331717,11936876,4379259,2856791,12535338,16223760,15786568,7566317,3513832,23413,6552063,6827465],GameData.colorIDS=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],GameData.colorID=0,GameData.stageColors=[],GameData.players=[5,6,7,8],GameData.stagePlayers=[],GameData.playerID=0,GameData.enemyCreateDelay=30,GameData.enemyCreateTemp=0,GameData.localData=null,GameData.mapScale=1,GameData.bgNeedBGDraw=!1,GameData.drawRange=[],GameData.timeoutArr=[],GameData.tileArr=[],__reflect(GameData.prototype,"GameData");var xxhd;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._disp=null,e._msk=new egret.Shape,e.addChild(e._msk),e._drawMask(),e.visible=!1,e.touchEnabled=!0,e}return __extends(e,t),e.prototype._drawMask=function(){this._msk.graphics.beginFill(0,.6),this._msk.graphics.drawRect(0,0,XFlash.stage.stageWidth,XFlash.stage.stageHeight),this._msk.graphics.endFill()},e.prototype.show=function(t,e,a,p){this._disp=t,this.addChild(t);var n=this;t.ok_btn&&t.ok_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e&&e.call(p),n.removeChild(t),n.visible=!1},p),t.no_btn&&t.no_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){a&&a.call(p),n.removeChild(t),n.visible=!1},p),this.visible=!0},e}(egret.DisplayObjectContainer);t.AlertManager=e,__reflect(e.prototype,"xxhd.AlertManager")}(xxhd||(xxhd={}));var xxhd;!function(t){var e=function(t){function e(e,a){var p=t.call(this,e,a)||this;return p._percent=100,p._rect=null,p._rect=new egret.Rectangle(0,0,p.width,p.height),p}return __extends(e,t),Object.defineProperty(e.prototype,"percent",{get:function(){return this._percent},set:function(t){this._percent=t,this.scaleX=t},enumerable:!0,configurable:!0}),e}(FlaxSprite);t.ProgressBar=e,__reflect(e.prototype,"xxhd.ProgressBar")}(xxhd||(xxhd={}));var xxhd;!function(t){var e=function(t){function e(e,a,p,n){var r=t.call(this)||this;return r._tileWidth=0,r._tileHeight=0,r._mapWidth=0,r._mapHeight=0,r._rows=0,r._cols=0,r._objectsArr=null,r._tileWidth=e,r._tileHeight=a,r._rows=p,r._cols=n,r._mapWidth=e*p,r._mapHeight=a*n,r.initArray(p,n),r._tileContainer=new egret.DisplayObjectContainer,r.addChild(r._tileContainer),r._gridShape=new egret.Shape,r._gridShape.alpha=.4,r.addChildAt(r._gridShape,0),r}return __extends(e,t),Object.defineProperty(e.prototype,"tileContainer",{get:function(){return this._tileContainer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectsArr",{get:function(){return this._objectsArr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileWidth",{get:function(){return this._tileWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileHeight",{get:function(){return this._tileHeight},enumerable:!0,configurable:!0}),e.prototype.clearGrid=function(){this._gridShape.graphics.clear()},e.prototype.drawGrid=function(){this._gridShape.graphics.clear();for(var t,e,a=this._rows,p=this._cols,n=0;a>n;n++)for(var r=0;p>r;r++)t=n*this._tileWidth,e=r*this._tileHeight,null!=this._objectsArr[n][r]?(this._gridShape.graphics.beginFill(16711680,1),this._gridShape.graphics.lineStyle(1,16711935),this._gridShape.graphics.drawRect(t,e,this._tileWidth,this._tileHeight)):(0==n||1==n||0==r||1==r||n==a-1||n==a-2||r==p-1)&&(this._gridShape.graphics.lineStyle(1,16711935),this._gridShape.graphics.beginFill(16711680,1),this._gridShape.graphics.drawRect(t,e,this._tileWidth,this._tileHeight));this._gridShape.graphics.endFill()},Object.defineProperty(e.prototype,"mapWidth",{get:function(){return this._mapWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mapHeight",{get:function(){return this._mapHeight},enumerable:!0,configurable:!0}),e.prototype.initArray=function(t,e){this._objectsArr=[];for(var a=0;t>a;a++){this._objectsArr[a]=[];for(var p=0;e>p;p++)0==a||1==a||0==p||1==p||a==t-1||a==t-2||p==e-1?this._objectsArr[a][p]=-1:this._objectsArr[a][p]=null}},e.prototype.checkCollision=function(t,e){for(var a=null,p=0;p<this._rows;p++)for(var n=0;n<this._cols;n++)if(a=this._objectsArr[p][n],a instanceof egret.DisplayObject&&null!=a&&XFlash.ifTouched(a,t,e))return a;return null},e.prototype.update=function(){for(var t=null,e=0;e<this._rows;e++)for(var a=0;a<this._cols;a++)t=this._objectsArr[e][a],t instanceof egret.DisplayObject&&null!=t&&t.update&&t.update()},e.prototype.addTileByTileCoords=function(t,e,a){var p=this.tileToPixelCoords(e,a);t.x=p.x,t.y=p.y,t.setTile(this._objectsArr,e,a),this._tileContainer.addChild(t)},e.prototype.addTileByPixelCoords=function(t,e,a){var p=this.pixelToTileCoords(e,a);t.x=e,t.y=a,t.setTile(this._objectsArr,p.x,p.y),this._tileContainer.addChild(t)},e.prototype.tileBackPosition=function(t){t.goBack(this._objectsArr);var e=t.tilePos,a=this.tileToPixelCoords(e.x,e.y);t.x=a.x,t.y=a.y},e.prototype.checkExistTile=function(t,e,a,p){for(var n=null,r=t;t+a>r;r++)for(var o=e;e+p>o;o++)if(n=this._objectsArr[r][o])return n;return n},e.prototype.getEmptyTileCoords=function(){for(var t=0;t<this._rows;t++)for(var e=0;e<this._cols;e++)if(null==this._objectsArr[t][e])return new egret.Point(t,e);return null},e.prototype.addTile=function(t){this._tileContainer.addChild(t)},e.prototype.removeTile=function(t){this.clearTileCoords(t),t.destroy()},e.prototype.resortDepth=function(){for(var t,e=0,a=0;a<this._rows;a++){e=0;for(var p=0;p<this._cols;p++)t=this._objectsArr[a][p],t&&t instanceof egret.DisplayObject&&(this._tileContainer.setChildIndex(t,e),e++)}},e.prototype.getTileByPixcelCoords=function(t,e){var a=this.pixelToTileCoords(t,e),p=this._objectsArr[a.x][a.y];return p&&p instanceof egret.DisplayObject?p:null},e.prototype.getTileByTileCoords=function(t,e){var a=this._objectsArr[t][e];return a&&a instanceof egret.DisplayObject?a:null},e.prototype.topZorderTile=function(t){this._tileContainer.setChildIndex(t,this._tileContainer.numChildren-1)},e.prototype.clearTileCoords=function(t){t.clearTile(this._objectsArr)},e.prototype.pixelToTileX=function(t){return Math.floor(t/this._tileWidth)},e.prototype.pixelToTileY=function(t){return Math.floor(t/this._tileHeight)},e.prototype.tileToPixelCoords=function(t,e){return new egret.Point(t*this._tileWidth,e*this._tileHeight)},e.prototype.pixelToTileCoords=function(t,e){return new egret.Point(this.pixelToTileX(t),this.pixelToTileY(e))},e}(egret.DisplayObjectContainer);t.TileMap=e,__reflect(e.prototype,"xxhd.TileMap")}(xxhd||(xxhd={}));var xxhd;!function(t){var e=function(t){function e(e,a){var p=t.call(this,e,a)||this;return p._tileX=-1,p._tileY=-1,p._tileOffX=1,p._tileOffY=1,p._preTileX=-1,p._preTileY=-1,p._data=null,p}return __extends(e,t),e.prototype.onTouchMe=function(){egret.Tween.get(this,null,null,!0).to({alpha:.6},100).to({alpha:1},100)},e.prototype.initTile=function(t,e,a){void 0===a&&(a=null),this._tileOffX=t,this._tileOffY=e,this._data=a},e.prototype.clearTile=function(t){if(-1!=this._tileX&&-1!=this._tileY){this._preTileX=this._tileX,this._preTileY=this._tileY;for(var e=this._tileX;e<this._tileX+this._tileOffX;e++)for(var a=this._tileY;a<this._tileY+this._tileOffY;a++)t[e][a]=null;this._tileX=-1,this._tileY=-1}},e.prototype.setTile=function(t,e,a){this._tileX=e,this._tileY=a;for(var p=this._tileX;p<this._tileX+this._tileOffX;p++)for(var n=this._tileY;n<this._tileY+this._tileOffY;n++)t[p][n]=this},e.prototype.goBack=function(t){this.setTile(t,this._preTileX,this._preTileY)},Object.defineProperty(e.prototype,"tilePos",{get:function(){return new egret.Point(this._tileX,this._tileY)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileX",{get:function(){return this._tileX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileY",{get:function(){return this._tileY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileOffX",{get:function(){return this._tileOffX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileOffY",{get:function(){return this._tileOffY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._data=null,this._tileOffX=1,this._tileOffY=1},e}(XMovieClip);t.XTileMovieClip=e,__reflect(e.prototype,"xxhd.XTileMovieClip")}(xxhd||(xxhd={}));var xxhd;!function(t){var e=function(t){function e(e,a){var p=t.call(this,e,a)||this;return p._tileX=-1,p._tileY=-1,p._tileOffX=1,p._tileOffY=1,p._preTileX=-1,p._preTileY=-1,p._data=null,p}return __extends(e,t),e.prototype.onTouchMe=function(){egret.Tween.get(this,null,null,!0).to({alpha:.6},100).to({alpha:1},100)},e.prototype.getMapDataItem=function(){var t={nameid:this.data.nameid,tx:this.tileX,ty:this.tileY};return t},e.prototype.initTile=function(t,e,a){void 0===a&&(a=null),this._tileOffX=t,this._tileOffY=e,this._data=a},e.prototype.clearTile=function(t){if(-1!=this._tileX&&-1!=this._tileY){this._preTileX=this._tileX,this._preTileY=this._tileY;for(var e=this._tileX;e<this._tileX+this._tileOffX;e++)for(var a=this._tileY;a<this._tileY+this._tileOffY;a++)t[e][a]=null;this._tileX=-1,this._tileY=-1}},e.prototype.setTile=function(t,e,a){this._tileX=e,this._tileY=a;for(var p=this._tileX;p<this._tileX+this._tileOffX;p++)for(var n=this._tileY;n<this._tileY+this._tileOffY;n++)t[p][n]=this},e.prototype.goBack=function(t){this.setTile(t,this._preTileX,this._preTileY)},Object.defineProperty(e.prototype,"tilePos",{get:function(){return new egret.Point(this._tileX,this._tileY)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileX",{get:function(){return this._tileX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileY",{get:function(){return this._tileY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileOffX",{get:function(){return this._tileOffX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileOffY",{get:function(){return this._tileOffY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._data=null,this._tileOffX=1,this._tileOffY=1},e}(FlaxSprite);t.XTileSprite=e,__reflect(e.prototype,"xxhd.XTileSprite")}(xxhd||(xxhd={}));